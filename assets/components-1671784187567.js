import{b as Rl,P as mt,a as Nt,u as Hl,N as $t,c as pt,D as Wl,e as tl,Q as He,d as Qe,f as gl,g as vt,h as ht,i as qt,j as Ot,k as Qt,l as ie,m as Ce,n as yl,o as bt,p as Kl,q as bl,r as Ct,s as Gl,t as Yl,v as Xl,w as be,x as Jl,y as Vt,z as Zl,A as Tt,B as rt,C as ot,E as Je,F as kl,G as ze,H as Ze,I as xl,J as at,K as Mt,L as At,M as it,O as _l,R as ea,S as ta,T as la,U as aa,V as na,W as ra,X as oa,Y as Sl,Z as ll,_ as al,$ as Le,a0 as st,a1 as ia,a2 as sa,a3 as nl,a4 as It,a5 as Dt,a6 as ua,a7 as da,a8 as ca,a9 as wl,aa as $l,ab as fa}from"./quasar-1671784187567.js";import{r as j,o as We,n as ve,a as p,c as I,b as Y,d as y,w as d,i as _e,e as h,f as Ke,g as me,F as ne,h as U,u,j as J,t as Q,k as Ie,l as Cl,m as se,p as fe,q as ma,s as ke,v as Se,x as Re,y as re,z as X,A as xe,B as Ae,C as pe,D as Z,E as pa,G as Vl,H as Fe,I as va,J as we,K as Rt,T as ha,L as Ht,M as ga,N as ge,O as ya,P as kt}from"./@vue-1671784187567.js";import{c as ba,d as ka,l as rl,p as ol}from"./package-1671784187567.js";import{a as Wt}from"./axios-1671784187567.js";import{u as xa,i as _a,a as Sa,b as wa,c as $a,d as Ca,e as Va,f as Ta,g as ja,h as Na,j as qa,k as Ba,l as La,m as Fa,n as Oa}from"./echarts-1671784187567.js";import{L as il}from"./zrender-1671784187567.js";const Ma=function(){const l=document.createElement("link").relList;return l&&l.supports&&l.supports("modulepreload")?"modulepreload":"preload"}(),sl={},za="",ut=function(l,t){return!t||t.length===0?l():Promise.all(t.map(a=>{if(a=`${za}${a}`,a in sl)return;sl[a]=!0;const o=a.endsWith(".css"),i=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${i}`))return;const n=document.createElement("link");if(n.rel=o?"stylesheet":Ma,o||(n.as="script",n.crossOrigin=""),n.href=a,document.head.appendChild(n),o)return new Promise((s,v)=>{n.addEventListener("load",s),n.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>l())};var Ea={Account:"\u8D26\u53F7",AccountTip1:"\u8D26\u53F7/\u624B\u673A\u53F7/\u90AE\u7BB1",Add:"\u6DFB\u52A0",After:"\u540E",All:"\u6240\u6709",ASC:"\u5347\u5E8F",BuiltIn:"\u7CFB\u7EDF\u5185\u7F6E",Cancel:"\u53D6\u6D88",Category:"\u7C7B\u522B",CheckAll:"\u5168\u9009",Close:"\u5173\u95ED",Classify:"\u5206\u7C7B",Column:"\u5217",CompactLayout:"\u7D27\u51D1\u5E03\u5C40",Config:"\u914D\u7F6E",Confirm:"\u786E\u5B9A",Create:"\u521B\u5EFA",CurrentLogon:"\u5F53\u524D\u767B\u5F55\u4EBA",DarkMode:"\u6697\u9ED1\u6A21\u5F0F",DecimalDigits:"\u4EC5\u652F\u6301{0}\u4F4D\u5C0F\u6570",Del:"\u5220\u9664",DelTips:"\u786E\u5B9A\u5220\u9664\u5BF9\u5E94\u6570\u636E\u5417\uFF1F",DESC:"\u964D\u5E8F",Disable:"\u7981\u7528",Distribution:"\u5206\u914D",Draft:"\u8349\u7A3F",Edit:"\u7F16\u8F91",Email:"\u90AE\u7BB1",Empty:"\u6E05\u7A7A",Enable:"\u542F\u7528",Execute:"\u6267\u884C",Exit:"\u9000\u51FA",ExitFullScreen:"\u9000\u51FA\u5168\u5C4F",ExitTip:"\u786E\u5B9A\u9000\u51FA\u7CFB\u7EDF\uFF1F",ExportList:"\u5BFC\u51FA\u5217\u8868",Fail:"\u5931\u8D25",File:"\u6587\u4EF6",FileTips:"\u6587\u4EF6\u987B\u5C0F\u4E8E {0} MB",FilterKeywords:"\u8F93\u5165\u5173\u952E\u5B57\u8FC7\u6EE4",Forget:"\u5FD8\u8BB0",FullScreen:"\u5168\u5C4F",Grid:"\u7F51\u683C",GoBack:"\u8FD4\u56DE\u4E0A\u4E00\u9875",Have:"\u6709",Hint:"\u63D0\u793A",HOME:"\u4E3B\u9875",Import:"\u5BFC\u5165",ImportError:"\u672A\u77E5\u9519\u8BEF\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",ImportNonFiles:"\u672A\u68C0\u6D4B\u5230\u5BFC\u5165\u6587\u4EF6\uFF0C\u8BF7\u68C0\u67E5",ImportTips:"\u4EC5\u652F\u6301.XLS\u3001.XLSX\u6587\u4EF6",ImportTemplate:"\u5BFC\u5165\u6A21\u677F",ItemPage:"\u6761/\u9875",Keywords:"\u5173\u952E\u5B57",Language:"\u8BED\u8A00",LeftSide:"\u5DE6\u4FA7",List:"\u5217\u8868",Login:"\u767B\u5F55",Mobile:"\u624B\u673A\u53F7",More:"\u66F4\u591A",Name:"\u540D\u79F0",Name1:"\u59D3\u540D",NameENUS:"\u82F1\u6587\u540D",No:"\u7F16\u53F7",No1:"\u5426",NoData:"\u6CA1\u6709\u53EF\u7528\u6570\u636E",NoExportData:"\u6682\u65E0\u53EF\u5BFC\u51FA\u6570\u636E",Nothing:"\u65E0",NotGreater:"\u4E0D\u5F97\u5927\u4E8E {0}",NotLess:"\u4E0D\u5F97\u5C0F\u4E8E {0}",Number:"\u6570",Operation:"\u64CD\u4F5C",Operator:"\u64CD\u4F5C\u4EBA",Order:"\u987A\u5E8F",Origin:"\u6765\u6E90",Other:"\u5176\u5B83",Password:"\u5BC6\u7801",PleaseInput:"\u8BF7\u8F93\u5165 ",PleaseSelect:"\u8BF7\u9009\u62E9 ",Picture:"\u56FE\u7247",PictureTips:"\u4EC5\u652F\u6301\u5C0F\u4E8E {0} MB\u7684\u56FE\u7247",Preview:"\u9884\u89C8",Refresh:"\u5237\u65B0",Reload:"\u91CD\u65B0\u52A0\u8F7D",Remarks:"\u5907\u6CE8",RememberMe:"\u8BB0\u4F4F\u6211",Reset:"\u91CD\u7F6E",Restore:"\u8FD8\u539F",Result:"\u7ED3\u679C",RightSide:"\u53F3\u4FA7",Save:"\u4FDD\u5B58",Scrap:"\u62A5\u5E9F",Search:"\u641C\u7D22",SelectedTip:"\u5DF2\u9009\u62E9\u6570\u636E\u4E2D\u6709\u4E0D\u53EF\u7528\u6570\u636E\uFF0C\u8BF7\u68C0\u67E5\uFF01",SelectedTips:"\u5DF2\u9009\u62E9 {0} \u6761\u6570\u636E",ServiceList:"\u670D\u52A1\u5217\u8868",Setting:"\u8BBE\u7F6E",ShowHide:"\u663E\u9690",Size:"\u5927\u5C0F",Sorting:"\u6392\u5E8F",Start:"\u5F00\u59CB",Status:"\u72B6\u6001",Submit:"\u63D0\u4EA4",Success:"\u6210\u529F",Superior:"\u4E0A\u7EA7",System:"\u7CFB\u7EDF",Style:"\u98CE\u683C",Template:"\u6A21\u677F",TemplateDownload:"\u6A21\u677F\u4E0B\u8F7D",Tenant:"\u79DF\u6237",Thumbnail:"\u7F29\u7565\u56FE",Time:"\u65F6\u95F4",Title:"\u6807\u9898",Totals:"\u603B\u6761\u6570",ToView:"\u67E5\u770B",Type:"\u7C7B\u578B",Upload:"\u4E0A\u4F20",UploadFailed:"\u4E0A\u4F20\u5931\u8D25\uFF0C\u8BF7\u70B9\u51FB\u91CD\u8BD5",VerifyTip1:"\u672A\u901A\u8FC7\u6821\u9A8C",WelcomeBack:"\u6B22\u8FCE\u56DE\u6765",Whether:"\u662F\u5426",WithOut:"\u65E0",Yes:"\u662F",M1:"\u4E00\u6708",M2:"\u4E8C\u6708",M3:"\u4E09\u6708",M4:"\u56DB\u6708",M5:"\u4E94\u6708",M6:"\u516D\u6708",M7:"\u4E03\u6708",M8:"\u516B\u6708",M9:"\u4E5D\u6708",M10:"\u5341\u6708",M11:"\u5341\u4E00\u6708",M12:"\u5341\u4E8C\u6708",W1:"\u5468\u4E00",W2:"\u5468\u4E8C",W3:"\u5468\u4E09",W4:"\u5468\u56DB",W5:"\u5468\u4E94",W6:"\u5468\u516D",W7:"\u5468\u65E5"},Pa=Object.freeze(Object.defineProperty({__proto__:null,default:Ea},Symbol.toStringTag,{value:"Module"})),Ua={Account:"Account",ImportTips:"Only .XLS and .XLSX files are supported"},Qa=Object.freeze(Object.defineProperty({__proto__:null,default:Ua},Symbol.toStringTag,{value:"Module"}));const ul={"./ENUS.js":Qa};let zt={};Object.keys(ul).forEach(e=>{const l=ul[e];zt={...zt,...l.default||l}});const dl={"./ZHCN.js":Pa};let Et={};Object.keys(dl).forEach(e=>{const l=dl[e];Et={...Et,...l.default||l}});var Aa={EN_US:zt,ZH_CN:Et};let Pt=(navigator.language||navigator.browserLanguage||"").toUpperCase();Pt=Pt.includes("ZH")?"ZH_CN":"EN_US";const Tl=ba({locale:Pt,messages:Aa});var Ia=Rl(({app:e})=>{e.use(Tl)});const ee=Tl.global;var fo=Object.freeze(Object.defineProperty({__proto__:null,default:Ia,i18n:ee},Symbol.toStringTag,{value:"Module"}));let Pe=`${window.IPConfig.SERVICE_CONTEXT_PATH}`;Pe=Pe.endsWith("/")?Pe:Pe+"/";const Ne={children:"childs",level:"level",menuEnUs:"menuNameEnUs",menuZhCn:"menuNameZhCn",menuIcon:"menuIcon",menuId:"id",parentIds:"parentIds",path:"menuUrl",serviceId:"serviceId"},dt=(e,l,t)=>gt({method:e,url:l,data:t});function Bt(e,l,t,a=void 0){dt("get",e,l).then(o=>{o?t&&t(o):a&&a(o)}).catch(o=>{a&&a(o)})}function Ge(e,l,t,a=void 0){dt("post",e,l).then(o=>{o?t&&t(o):a&&a(o)}).catch(o=>{a&&a(o)})}const Kt=(e=!0)=>({path:"/dashboard",component:e?"":()=>ut(()=>import("./MainLayout-1671784187567.js"),["assets/MainLayout-1671784187567.js","assets/MainLayout-1671784187567.css","assets/@quasar-1671784187567.css","assets/quasar-1671784187567.js","assets/quasar-1671784187567.css","assets/@vue-1671784187567.js","assets/vue-router-1671784187567.js","assets/index-1671784187567.js","assets/index-1671784187567.css","assets/package-1671784187567.js","assets/package-1671784187567.css","assets/@intlify-1671784187567.js","assets/axios-1671784187567.js","assets/echarts-1671784187567.js","assets/zrender-1671784187567.js"]),meta:{menuZhCn:"\u89C4\u8303\u53CA\u6837\u5F0F",menuEnUs:"Dashboard",menuId:"Dashboard",menuIcon:"dashboard"},children:[{path:"/dashboard/console",component:e?"":()=>ut(()=>import("./Console-1671784187567.js"),["assets/Console-1671784187567.js","assets/quasar-1671784187567.js","assets/quasar-1671784187567.css","assets/@vue-1671784187567.js"]),meta:{menuZhCn:"\u89C4\u8303\u8981\u6C42",menuEnUs:"Console",menuId:"Console",parentIds:"Dashboard",menuIcon:"home"}},{path:"/dashboard/worktable",component:e?"":()=>ut(()=>import("./Worktable-1671784187567.js"),["assets/Worktable-1671784187567.js","assets/quasar-1671784187567.js","assets/quasar-1671784187567.css","assets/@vue-1671784187567.js","assets/package-1671784187567.js","assets/package-1671784187567.css","assets/@intlify-1671784187567.js","assets/axios-1671784187567.js","assets/echarts-1671784187567.js","assets/zrender-1671784187567.js"]),meta:{menuZhCn:"\u5168\u5C40\u6837\u5F0F",menuEnUs:"Worktable",menuId:"Worktable",parentIds:"Dashboard",menuIcon:"workspaces"}}]}),mo=[{path:"/",component:()=>ut(()=>import("./MainLayout-1671784187567.js"),["assets/MainLayout-1671784187567.js","assets/MainLayout-1671784187567.css","assets/@quasar-1671784187567.css","assets/quasar-1671784187567.js","assets/quasar-1671784187567.css","assets/@vue-1671784187567.js","assets/vue-router-1671784187567.js","assets/index-1671784187567.js","assets/index-1671784187567.css","assets/package-1671784187567.js","assets/package-1671784187567.css","assets/@intlify-1671784187567.js","assets/axios-1671784187567.js","assets/echarts-1671784187567.js","assets/zrender-1671784187567.js"]),children:[{path:"",redirect:"/dashboard/console"}]},Kt(!1),{path:"/:catchAll(.*)*",component:()=>ut(()=>import("./ErrorNotFound-1671784187567.js"),["assets/ErrorNotFound-1671784187567.js","assets/quasar-1671784187567.js","assets/quasar-1671784187567.css","assets/@vue-1671784187567.js","assets/package-1671784187567.js","assets/package-1671784187567.css","assets/@intlify-1671784187567.js","assets/axios-1671784187567.js","assets/echarts-1671784187567.js","assets/zrender-1671784187567.js"])}],tt=e=>{const l=Nt.getItem("userName");return l?`${l}-${e}`:e},De=(e,l,t="")=>{["L","l"].includes(t)?mt.set(tt(String(e)),l):Nt.set(tt(String(e)),l)},Me=(e,l="")=>{var t;return["L","l"].includes(l)?(t=mt.getItem(tt(String(e))))!=null?t:mt.getItem(String(e)):Nt.getItem(tt(String(e)))},po=(e,l="")=>{if(["L","l"].includes(l)){mt.remove(String(e)),mt.remove(tt(String(e)));return}Nt.remove(tt(String(e)))},Da=["/authMenu","/authRole","/cfgDict","/memberOrg","/memberPost","/memberUser","/operLog"],jl=(e=[],l=[],t=[Kt()],a="")=>{for(const o of e){const i={meta:{menuId:o[Ne.menuId]||Hl(),menuIcon:o[Ne.menuIcon],menuZhCn:o[Ne.menuZhCn],menuEnUs:o[Ne.menuEnUs],serviceId:o[Ne.serviceId],parentIds:o[Ne.parentIds]||a},children:void 0,component:void 0,path:o[Ne.path].startsWith("/")?o[Ne.path]:"/"+o[Ne.path]};Da.includes(i.path)&&(i.path=`/SystemCtr${i.path}`);const n=o[Ne.children];n&&n.length?(i.children=[],t.push(i),jl(n,l,i.children,i.meta.menuId)):(l.push(i),t.push(i))}return{LMenus:l,TMenus:t}},xt=ka("userStores",{state:()=>({breadcrumbs:Me("breadcrumbs")||{},btns:Me("btns")||[],listMenus:Me("listMenus")||[],OSSPath:Me("OSSPath")||"",serviceList:Me("serviceList")||[],serviceMenu:{},token:Me("Token","L")||"",treeMenus:[Kt()],userInfo:Me("userInfo")||{}}),getters:{},actions:{SET_USERINFO(e){this.userInfo=e,De("userInfo",e)},SET_SERVICELIST(e){this.serviceList=e,De("serviceList",e)},SET_BREADCRUMBS(e){this.breadcrumbs=e,De("breadcrumbs",e)},SET_TOKEN(e){this.token=e,De("Token",e,"L")},async LoginByName(e={}){return new Promise((l,t)=>{e.containServiceList=!0,dt("post","/auth/api/login",e).then(a=>{De("userName",a.userVO.loginName),this.SET_TOKEN(a.authToken),this.SET_USERINFO(a.userVO),this.SET_SERVICELIST(a.serviceList),K(this.breadcrumbs)&&this.SET_BREADCRUMBS(a.serviceList[0]||{}),l(a.userVO)}).catch(a=>{t(a)})})},async GetBtns(){return new Promise((e,l)=>{const{id:t}=this.breadcrumbs||{},a=this.serviceMenu[t];if(a&&a.btns){e(a.btns);return}dt("get","/auth/api/currentUserPermissions",{serviceId:t}).then(o=>{this.btns=[...new Set([...this.btns,...o])],De("btns",this.btns),a?a.btns=o:this.serviceMenu[t]={btns:o},e(o)}).catch(o=>{l(o)})})},async GetMenus(){return await this.GetBtns(),new Promise((e,l)=>{const{id:t}=this.breadcrumbs||{},a=this.serviceMenu[t];if(a&&a.menu){this.treeMenus=a.menu.TMenus,e({TMenus:a.menu.TMenus,LMenus:[]});return}dt("get","/auth/api/currentUserTreeMenus",{serviceId:t}).then(o=>{const i=jl(o);this.listMenus=Xa([...this.listMenus,...i.LMenus],"path"),De("listMenus",this.listMenus),this.treeMenus=i.TMenus,a?a.menu=i:this.serviceMenu[t]={menu:i},e(i)}).catch(o=>{l(o)})})}}}),Ra=e=>{const l=[];return Object.keys(e).forEach(t=>{l.push(`${t}=${e[t]}`)}),l.join("&")},Nl=e=>{e&&e.data&&Ha(e.data)&&(e.data=JSON.parse(e.data));const{method:l,url:t,params:a,data:o}=e;return[l,t,rl.stringify(a),rl.stringify(o)].join("&")},Ha=e=>{if(typeof e=="string")try{const l=JSON.parse(e);return!!(typeof l=="object"&&l)}catch{return!1}},nt=e=>{$t.create({type:"negative",message:e.message||e.error||e})};let Gt=!1;const Wa=e=>{Gt=e},ql=()=>{jt=!1,Gt=!0,Promise.resolve().then(()=>{et.forEach(e=>e(Ll)),et=[]}),Ue=0},Ut=e=>{const{userInfo:l,LoginByName:t}=xt();Yt({msg:e.message||e,okLabel:ee.t("Login"),cancelLabel:ee.t("Close"),prompt:{model:"",outlined:!0,placeholder:ee.t("Password"),isValid:a=>a.length>0,type:"password"}},a=>{const o={loginName:l.loginName,tenantId:l.tenantId,password:a};t(o).then(()=>{}).catch(()=>{}),jt=!0,Ue=0},()=>ql())};let Ue=0,et=[],jt=!1;const cl=e=>(Ue===0&&(Ue=1,Ut(e.data)),new Promise(l=>et.push(t=>l(t(e.config))))),Ka=e=>[200,201,500].includes(e.status)?e.data.code?Te[e.data.code||"default"](e.data):e.status===500?Te.default(e.data):Te.blob(e):Te[e.status||"default"](e.data),Bl=["118","119","401"],Ga=(e,l)=>(jt&&et.length&&(jt=!1,e.status===200&&e.data.code!=="-1"?Promise.resolve().then(()=>{et.forEach(t=>t(l)),et=[]}):ql()),e.status===401||e.data&&e.data.code==="-1"&&e.data.data&&Bl.includes(e.data.data.bussinessCode)?cl(e):Ka(e)),Te={"-1":e=>e.data&&Bl.includes(e.data.bussinessCode)?(Ue===0&&(Ue=1,Ut(e)),Promise.reject(e.message)):(nt(e),Promise.reject(e.message)),0:e=>e.data||!0,200:e=>e.data||!0,201:e=>e.data||!0,401:e=>(Ue===0&&(Ue=1,Ut(e)),Promise.reject(e.message)),404:e=>(nt("404"),Promise.reject(e)),500:e=>{nt(e)},503:e=>(nt(ee.t("AxiosTip")),Promise.reject(e)),blob:e=>e,default:e=>(nt(e),Promise.reject(e))},ct=new Map;function Ya(e){const l=Nl(e);ct.has(l)||(e.cancelToken=e.cancelToken||new Wt.CancelToken(t=>{ct.set(l,t)}))}function Ll(e){const l=Nl(e);ct.has(l)&&(ct.get(l)(l),ct.delete(l))}const gt=Wt.create({baseURL:Pe,timeout:5e4,validateStatus:e=>e>=200&&e<=500});gt.interceptors.request.use(e=>{pt.start();const l=Me("Token","L")||"";return e.headers={lang:ee.locale,Authorization:l,"Content-Type":"application/json;charset=UTF-8"},["post","put"].includes(e.method.toLocaleLowerCase())&&e.headers.serialize?e.data=Ra(e.data):["get"].includes(e.method.toLocaleLowerCase())&&(e.params=e.params||e.data),Ya(e),Gt&&(Ll(e),Wa(!1)),e},e=>Promise.reject(e));gt.interceptors.response.use(e=>(pt.stop(),e.status===201&&xt().SET_TOKEN(e.headers.authorization),Ga(e,gt)),e=>{if(pt.stop(),Wt.isCancel(e))return Promise.reject(e);if(e.message){const l=e.message.split(" status code ")[1];return Te[l||"default"](e)}return Promise.reject(e)});function ae(e){const l={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"};return e instanceof Element?"element":l[toString.call(e)]}function Ve(e){const l=ae(e);return l==="array"?tl(!0,[],e):l==="object"?tl(!0,{},e):e}function K(e,l){if(["boolean","number"].includes(typeof e))return!1;if(["undefined","null"].includes(ae(e))||ae(e)==="string"&&e==="")return!0;if(e instanceof Array){if(e.length===0)return!0;if(l){for(const t of e)if(!K(t,l))return!1;return!0}}else if(e instanceof Object)return l?Object.values(e).filter(a=>a).length===0:!Object.keys(e).length;return!1}function vo(e="",l,t){return ee.locale==="ZH_CN"?e=l||e.substring(0,e.length-4)+"ZhCn":ee.locale==="EN_US"&&(e=t||e.substring(0,e.length-4)+"EnUs"),e}function Xa(e,l="id",t){const a=new Map;return t&&(e=Ve(e)),e.reverse(),e=e.filter(o=>!a.has(o[l])&&a.set(o[l],1)),e.reverse()}function Yt({title:e,msg:l="",okLabel:t,cancelLabel:a,prompt:o},i=void 0,n=void 0){Wl.create({title:e||ee.t("Hint"),message:l,ok:{color:"#FFF",label:t||ee.t("Confirm"),textColor:"primary"},cancel:{color:"#FFF",label:a||ee.t("Cancel"),textColor:"negative"},prompt:o,persistent:!0}).onOk(s=>i&&i(s)).onCancel(()=>n&&n())}function yt(e){const l={method:e.dicMethod||"post",url:e.dicUrl,data:e.dicQuery||{},responseType:"blob"};gt(l).then(t=>{const a=document.createElement("a"),o=new Blob([t.data],{type:e.type||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),i=/filename=([^;]+\.[^\\.;]+);*/,n=decodeURI(t.headers["content-disposition"]),s=i.exec(n)||[];let v=e.fileName||s[1]||"\u672A\u547D\u540D";v=v.replace(/"/g,""),a.href=URL.createObjectURL(o),a.setAttribute("download",v),document.body.appendChild(a),a.click(),document.body.appendChild(a),typeof e.done=="function"&&e.done()}).catch(()=>{typeof e.done=="function"&&e.done()})}var Fl=(e,l)=>{const t=e.__vccOpts||e;for(const[a,o]of l)t[a]=o;return t};const Ja={class:"fit overflow-hidden-y"},Za=["src"],en={__name:"QFrame",props:{srcPath:String},setup(e){const l=j(!1);return We(()=>ve(()=>l.value=!0)),(t,a)=>(p(),I("div",Ja,[l.value?(p(),I("iframe",{key:0,src:e.srcPath,class:"fit no-border"},null,8,Za)):Y("",!0),y(Qe,{showing:!l.value},{default:d(()=>[y(He,{color:"primary",size:"50px"})]),_:1},8,["showing"])]))}};var tn=Object.freeze(Object.defineProperty({__proto__:null,default:en},Symbol.toStringTag,{value:"Module"}));const ln={__name:"QJsonTree",props:{jsonData:Object,insetLevel:Number,defaultOpen:Boolean},setup(e){const l=e,t=_e("isDense",!0),a=h(()=>Object.keys(l.jsonData||{})),o=h(()=>i=>typeof i=="string"?`"${i}"`:i);return(i,n)=>{const s=Ke("QJsonTree",!0);return p(!0),I(ne,null,me(u(a),v=>(p(),I(ne,{key:v},[e.jsonData[v]&&typeof e.jsonData[v]=="object"?(p(),U(gl,{key:0,"default-opened":e.defaultOpen,dense:u(t),"header-inset-level":e.insetLevel,label:v,"switch-toggle-side":""},{default:d(()=>[y(s,{"inset-level":e.insetLevel+1,"json-data":e.jsonData[v]},null,8,["inset-level","json-data"])]),_:2},1032,["default-opened","dense","header-inset-level","label"])):(p(),U(ht,{key:1,dense:u(t),"inset-level":e.insetLevel},{default:d(()=>[y(vt,null,{default:d(()=>[J(Q(v)+":\xA0"+Q(u(o)(e.jsonData[v])),1)]),_:2},1024)]),_:2},1032,["dense","inset-level"]))],64))),128)}}};var an=Object.freeze(Object.defineProperty({__proto__:null,default:ln},Symbol.toStringTag,{value:"Module"}));const nn={class:"text-h6 text-weight-medium text-primary"},Xt={__name:"QModal",props:{loading:Boolean,fullScreen:Boolean,modelValue:Boolean,persistent:{type:Boolean,default:!0}},emits:["confirm","update:modelValue","update:loading"],setup(e,{emit:l}){const t=e,a=_e("isDense",!0),o=j(null),i=j(!1),n=j(!1),s=Ie({"fab-mini":!0,round:!0,flat:!0}),v=h(()=>m.value?{icon:"fullscreen_exit",text:ee.t("ExitFullScreen")}:{icon:"zoom_out_map",text:ee.t("FullScreen")}),C=Cl(),w=h(()=>t.fullScreen||m.value?!1:!C.position),_=h(()=>C.btnAlign||"right"),g=h(()=>!1),b=h(()=>{const{fullWidth:c,fullHeight:k,position:r}=C;return{class:"q-modal",fullWidth:c,fullHeight:k||["left","right"].includes(r),persistent:!0,position:r,maximized:t.fullScreen||m.value}}),$=h(()=>{if(t.fullScreen||m.value)return{};let c="";return C.width&&(c=String(C.width).endsWith("%")?C.width:C.width+"px"),C.position?{width:c||"560px"}:{width:c||"45%"}}),m=j(!1),S=()=>{m.value=!m.value},f=h(()=>{const{position:c}=C;let k=98;return(t.fullScreen||m.value||c)&&(k-=48),(K(C.menuBtn)||C.menuBtn)&&(k+=50),`calc(100vh - ${k}px)`}),T=()=>{t.modelValue!==i.value&&(i.value=t.modelValue),i.value&&g.value&&ve(()=>{var k,r,D;const c=(D=(r=(k=o.value)==null?void 0:k.$el)==null?void 0:r.parentNode)==null?void 0:D.parentNode;c&&(c.onclick=P)})};se(fe(t,"modelValue"),()=>T()),se(fe(t,"loading"),c=>n.value=c,{immediate:!0});const z=c=>{if(c===!1){n.value=!1,l("update:loading",!1);return}n.value=!1,l("update:loading",!1),P()},E=()=>{n.value=!0,l("confirm",z)},P=()=>{const c=C.onBeforeClose||C.beforeClose;c&&typeof c=="function"?c():(i.value=!1,l("update:modelValue",!1))};return(c,k)=>{const r=Ke("qx-btn"),D=ma("drag");return p(),U(bl,X({modelValue:i.value,"onUpdate:modelValue":k[1]||(k[1]=O=>i.value=O),"no-shake":u(g)},u(b),{onKeyup:k[2]||(k[2]=pa(O=>u(g)&&P(),["esc"]))}),{default:d(()=>[y(qt,{ref_key:"QModal",ref:o,style:ke(u($)),onClick:k[0]||(k[0]=Se(()=>{},["stop"]))},{default:d(()=>[Re((p(),U(Ot,{class:"q-modal-header"},{default:d(()=>[re("span",nn,Q(u(C).header),1),y(Qt),!e.fullScreen&&!u(C).position?(p(),U(ie,X({key:0,dense:u(a),icon:u(v).icon},s,{onClick:S}),{default:d(()=>[y(Ce,xe(Ae(c.$tooltipAttr)),{default:d(()=>[J(Q(u(v).text),1)]),_:1},16)]),_:1},16,["dense","icon"])):Y("",!0),u(C).closeBtn!==!1?(p(),U(ie,X({key:1,dense:u(a),class:"q-btn-close",icon:"close"},s,{onClick:P}),{default:d(()=>[y(Ce,xe(Ae(c.$tooltipAttr)),{default:d(()=>[J(Q(c.$t("Close")),1)]),_:1},16)]),_:1},16,["dense"])):Y("",!0)]),_:1})),[[D,u(w)]]),y(yl,{class:pe([u(C).contentClass,"scroll"]),style:ke({maxHeight:u(f)})},{default:d(()=>[Z(c.$slots,"default")]),_:3},8,["class","style"]),y(bt),u(C).menuBtn!==!1?(p(),U(Kl,{key:0,align:u(_),class:"q-modal-footer"},{default:d(()=>[Z(c.$slots,"menuLeft"),u(C).submitBtn!==!1?(p(),U(r,{key:0,loading:n.value,icon:"published_with_changes","no-wrap":"",padding:".4em 1em","text-color":"primary",onClick:E},{default:d(()=>[J(Q(u(C).submitText||c.$t("Confirm")),1)]),_:1},8,["loading"])):Y("",!0),u(C).closeBtn!==!1?(p(),U(r,{key:1,loading:n.value,icon:"cancel_schedule_send","no-wrap":"",padding:".4em 1em","text-color":"negative",onClick:P},{default:d(()=>[J(Q(u(C).closeText||c.$t("Close")),1)]),_:1},8,["loading"])):Y("",!0),Z(c.$slots,"menuRight")]),_:3},8,["align"])):Y("",!0),y(Qe,{showing:n.value},{default:d(()=>[y(He,{color:"primary",size:"50px"})]),_:1},8,["showing"])]),_:3},8,["style"])]),_:3},16,["modelValue","no-shake"])}}};var rn=Object.freeze(Object.defineProperty({__proto__:null,default:Xt},Symbol.toStringTag,{value:"Module"}));function on(e={}){if(e.component)return e.component;const{type:l}=e;return K(l)?Ct:l==="select"?"qx-select":["date","datetime","daterange"].includes(l)?"qx-date":["time"].includes(l)?"qx-time":l==="number"?"q-number":["radio","checkbox","toggle"].includes(l)?"q-group":["year","yearrange"].includes(l)?"q-year":["month","monthrange"].includes(l)?"q-month":l==="tree"?"q-select-tree":l==="icon"?"qx-icon":l==="editor"?"qx-editor":l==="file"?"qx-file":l==="picture"?"q-picture":l==="btnToggle"?Gl:l==="range"?Yl:l==="slider"?Xl:Ct}const sn=/width.*?%;/g;function un(e={},l,t){const{type:a="input"}=e,o=Ve(e);if(["select"].includes(a)&&typeof e.options=="function"&&(o.options=e.options(l)),o.inline=!0,o.outlined=!0,o.lazyRules=e.lazyRules||!0,o.rules=dn(e),o.placeholder=Ol(e),l&&(o.rowInfo=l),t&&delete o.maxlength,a==="textarea"&&(o.autogrow=!0),o.maxlength&&(o.counter=!0),o.component||delete o.required,o.style){const n=o.style.split(";").find(s=>s.startsWith("width:"));n&&n.endsWith("%")&&(o.style=o.style.replace(sn,""))}return delete o.component,delete o.formslot,delete o.label,delete o.value,delete o.slot,o}function dn(e={}){const l=e.rules||[];return e.required&&l.unshift(t=>!K(t)||`${Ol(e)}`),l}const cn=["input","editor","number","textarea","password","",void 0,null];function Ol(e={}){return e.placeholder?e.placeholder:cn.includes(e.type)?`${ee.t("PleaseInput")}${e.label||""}`:`${ee.t("PleaseSelect")}${e.label||""}`}const fn={key:0,class:"text-red text-weight-bold q-pr-xs"},mn={__name:"FormItem",props:{column:{type:Object,default:()=>({})},dense:{type:Boolean,default:!0},loading:Boolean,readonly:Boolean,isSearch:Boolean,formWidth:Number,modelValue:Object,labelPosition:String,span:[String,Number],labelWidth:[String,Number]},setup(e){const l=e;Vl(m=>({"3b290cb4":`${u(w)}`}));const t=h(()=>{var m;return(m=l.dense)!=null?m:_e("isDense",!0)}),a=h(()=>{if(l.isSearch)return l.span||6;if(!l.formWidth)return l.span||12;if(l.span)return[24,"24"].includes(l.span)&&l.formWidth>2e3?12:l.span;let m=3;return l.formWidth<401?m=24:l.formWidth<801?m=12:l.formWidth<1201?m=8:l.formWidth<1801?m=6:l.formWidth<3601&&(m=4),l.span>m?l.span:m}),o=h(()=>!l.isSearch&&l.formWidth&&l.formWidth/24*a.value<301?!0:l.labelPosition==="top"),i=h(()=>{let m="qx-form-item items-start";return o.value||(m+=" row"),`${m} q-col-${a.value}`}),n=h(()=>{let m="q-pr-sm row items-center text-right";return t.value?m+=" qx-form-item-label-dense":m+=" qx-form-item-label",o.value?m+=" qx-form-item-label-top":l.labelPosition==="left"?m+=" justify-start":m+=" justify-end",m}),s=Object.keys(Fe()),v=h(()=>m=>s.includes(m)),C=h(()=>!["0",0].includes(l.labelWidth)),w=h(()=>o.value||!C.value?"100%":`${l.labelWidth||80}px`),_=h(()=>{const m=un(l.column,b.value,l.isSearch);return l.readonly&&(delete m.counter,delete m.maxlength),m}),g=h(()=>on(l.column)),b=j({}),$=(m,S)=>{if(b.value=l.modelValue||{},K(l.column))return;const{field:f}=l.column;if(S&&b.value[f]===S){b.value[f]=m;return}b.value[f]||K(l.column.value)||(b.value[f]=l.column.value)};return se(()=>{var m;return(m=l.column)==null?void 0:m.value},(m,S)=>$(m,S)),se(fe(l,"modelValue"),()=>$(),{immediate:!0}),(m,S)=>(p(),I("div",{class:pe(u(i))},[u(C)?(p(),I("div",{key:0,class:pe([u(n),"form-item-label-width"])},[re("span",{class:pe(u(o)?"ellipsis":"ellipsis-2-lines")},[e.column.required?(p(),I("i",fn,"*")):Y("",!0),J(" "+Q(e.column.label),1)],2)],2)):Y("",!0),y(vt,{class:"qx-form-item-card"},{default:d(()=>[e.column.formslot?Z(m.$slots,e.column.field,{key:0,attrs:u(_)},void 0,!0):(p(),U(va(u(g)),X({key:1,modelValue:b.value[e.column.field],"onUpdate:modelValue":S[0]||(S[0]=f=>b.value[e.column.field]=f),dense:u(t),isSearch:e.isSearch,loading:e.loading,readonly:e.loading||e.readonly,name:""},u(_)),we({_:2},[u(v)(`${e.column.field}B`)?{name:"before",fn:d(()=>[Z(m.$slots,e.column.field+"B",{},void 0,!0)]),key:"0"}:void 0,u(v)(`${e.column.field}A`)?{name:"after",fn:d(()=>[Z(m.$slots,e.column.field+"A",{},void 0,!0)]),key:"1"}:void 0,u(v)(`${e.column.field}P`)?{name:"prepend",fn:d(()=>[Z(m.$slots,e.column.field+"P",{},void 0,!0)]),key:"2"}:void 0,u(v)(`${e.column.field}AP`)?{name:"append",fn:d(()=>[Z(m.$slots,e.column.field+"AP",{},void 0,!0)]),key:"3"}:void 0]),1040,["modelValue","dense","isSearch","loading","readonly"]))]),_:3})],2))}};var fl=Fl(mn,[["__scopeId","data-v-35c11ee2"]]);const pn={__name:"QxForm",props:{modelValue:Object,isSearch:Boolean,option:{type:Object,default:()=>({})},dense:{type:Boolean,default:!0}},emits:["submit","update:modelValue"],setup(e,{expose:l,emit:t}){const a=e,o=_e("BgToColor"),i=h(()=>{var r;return(r=a.dense)!=null?r:_e("isDense",!0)}),n=j(null),s=j(!1),v=h(()=>r=>(r==null?void 0:r.label)+(r==null?void 0:r.field)),C=h(()=>(r=[])=>r.filter(D=>a.isSearch?D.search!==!1:D.display!==!1)),w=h(()=>(r={})=>{const{labelPosition:D,labelWidth:O,searchLabelWidth:A,span:L,searchSpan:R,readonly:N}=a.option||{};if(a.isSearch){const x=K(r.searchLabelWidth)?A:r.searchLabelWidth;return{loading:s.value,labelPosition:"right",readonly:r.searchReadonly,span:r.searchSpan||R,labelWidth:K(x)?r.labelWidth||O:x}}return{loading:s.value,span:r.span||L,labelPosition:r.labelPosition||D,readonly:K(r.readonly)?N:r.readonly,labelWidth:K(r.labelWidth)?O:r.labelWidth}}),_=h(()=>(r={})=>(r={...r},a.isSearch&&(r.searchType&&(r.type=r.searchType),delete r.hint,delete r.value,delete r.required,r.searchHint&&(r.hint=r.searchHint),r.searchValue&&(r.value=r.searchValue),r.searchRequired&&(r.required=r.searchRequired)),delete r.children,delete r.searchHint,delete r.searchType,delete r.searchValue,delete r.searchRequired,r)),g=Object.keys(Fe()),b=h(()=>r=>g.filter(D=>[r,`${r}A`,`${r}B`,`${r}P`,`${r}AP`].includes(D))),$=h(()=>{const{menuBtn:r,searchMenuBtn:D=!0}=a.option||{};return a.isSearch?D:r}),m=h(()=>{let r;return i.value?r="qx-form-menu-dense":r="qx-form-menu",a.isSearch?(a.option&&a.option.searchMenu?r+=` q-col-${a.option.searchMenu}`:r+=" col",a.option&&a.option.searchMenuPosition&&(r+=` text-${a.option.searchMenuPosition}`),r):(a.option&&a.option.menuSpan?r+=` q-col-${a.option.menuSpan} q-pl-md`:r+=" q-col-24 q-pr-sm",a.option&&a.option.menuPosition?r+=` text-${a.option.menuPosition}`:r+=" text-center",r)}),S=j(0),f=r=>{r.width&&(S.value=r.width)},T=j({}),z=()=>{n.value&&n.value.resetValidation(),T.value=a.modelValue||{}};se(fe(a,"modelValue"),()=>z(),{immediate:!0});const E=()=>{n.value&&n.value.resetValidation(),T.value={},t("update:modelValue",T.value)},P=()=>{s.value=!1},c=(r,D)=>{n.value.validate().then(O=>{O?r&&(s.value=!0,r(T.value,P)):D&&D()})},k=()=>{s.value=!0,t("submit",T.value,P)};return l({onReset:E,validate:c}),(r,D)=>{const O=Ke("qx-btn");return p(),I(ne,null,[y(Jl,{ref_key:"QxForm",ref:n,class:pe([e.isSearch?"qx-form-search":"qx-form-normal","qx-form full-width row q-col-gutter-sm items-start rounded-borders"]),onReset:E,onSubmit:k},{default:d(()=>[S.value>0||e.isSearch?(p(),I(ne,{key:0},[(p(!0),I(ne,null,me(u(C)(e.option.column),(A,L)=>(p(),I(ne,{key:u(v)(A)},[A.children?(p(),U(gl,{key:0,disable:s.value,group:`group-${L}`,label:A.label,class:"full-width qx-form-children","default-opened":"","switch-toggle-side":""},{default:d(()=>[y(qt,{class:"row q-col-gutter-sm"},{default:d(()=>[(p(!0),I(ne,null,me(u(C)(A.children),R=>(p(),U(fl,X({key:u(v)(R),modelValue:T.value,"onUpdate:modelValue":D[0]||(D[0]=N=>T.value=N),column:u(_)(R),dense:u(i),formWidth:S.value,isSearch:e.isSearch},u(w)(r.cCoumn)),we({_:2},[me(u(b)(R.field),N=>({name:N,fn:d(({attrs:x})=>[Z(r.$slots,N,{attrs:x})])}))]),1040,["modelValue","column","dense","formWidth","isSearch"]))),128))]),_:2},1024)]),_:2},1032,["disable","group","label"])):(p(),U(fl,X({key:1,modelValue:T.value,"onUpdate:modelValue":D[1]||(D[1]=R=>T.value=R),column:u(_)(A),dense:u(i),formWidth:S.value,isSearch:e.isSearch},u(w)(A)),we({_:2},[me(u(b)(A.field),R=>({name:R,fn:d(({attrs:N})=>[Z(r.$slots,R,{attrs:N})])}))]),1040,["modelValue","column","dense","formWidth","isSearch"]))],64))),128)),u($)?(p(),I("div",{key:0,class:pe(u(m))},[y(ie,{color:e.isSearch?"primary":"",loading:s.value,"text-color":e.isSearch?u(o)("primary"):"primary",class:"q-ml-sm","no-wrap":"",type:"submit"},{default:d(()=>[e.isSearch?(p(),I(ne,{key:0},[y(be,{name:"search"}),J(" "+Q(e.option.searchText||r.$t("Search")),1)],64)):(p(),I(ne,{key:1},[y(be,{name:"published_with_changes"}),J(" "+Q(e.option.submitText||r.$t("Submit")),1)],64))]),_:1},8,["color","loading","text-color"]),e.option.resetBtn!==!1?(p(),U(O,{key:0,loading:s.value,"no-wrap":"","text-color":"negative",type:"reset"},{default:d(()=>[y(be,{name:"restore"}),J(" "+Q(e.option.resetText||r.$t("Reset")),1)]),_:1},8,["loading"])):Y("",!0),Z(r.$slots,"menuRight",{loading:s.value})],2)):Y("",!0)],64)):Y("",!0)]),_:3},8,["class"]),e.isSearch?Y("",!0):(p(),U(Vt,{key:0,debounce:"1000",onResize:f}))],64)}}};var vn=Object.freeze(Object.defineProperty({__proto__:null,default:pn},Symbol.toStringTag,{value:"Module"}));const hn={class:"text-h6 text-weight-medium text-primary"},gn={__name:"QxPage",props:{height:Boolean,loading:Boolean,menuBtn:{type:Boolean,default:!0},modelValue:Boolean},emits:["confirm","update:modelValue","update:loading"],setup(e,{emit:l}){const t=e,a=Cl(),o=_e("isDense",!0),i=j(!1),n=j(!1),s=j(!1),v=h(()=>{let b=40;return t.menuBtn&&(b+=50),t.height?{height:`calc(100% - ${b}px)`}:{maxHeight:`calc(100% - ${b}px)`}});se(fe(t,"modelValue"),b=>{b&&!i.value&&(i.value=b),n.value=b}),se(fe(t,"loading"),b=>{s.value=b},{immediate:!0});const C=Ie({"fab-mini":!0,round:!0,flat:!0}),w=b=>{if(b===!1){s.value=!1,l("update:loading",!1);return}s.value=!1,l("update:loading",!1),g()},_=()=>{s.value=!0,l("confirm",w)},g=()=>{const b=a.onBeforeClose||a.beforeClose;b&&typeof b=="function"?b():(n.value=!1,l("update:modelValue",!1))};return(b,$)=>{const m=Ke("qx-btn");return p(),U(ha,{name:"q-transition--scale"},{default:d(()=>[i.value?Re((p(),U(qt,{key:"email-button",class:"qx-page"},{default:d(()=>[y(Ot,{class:"qx-page-header"},{default:d(()=>[re("span",hn,Q(u(a).header||b.$t("Title")),1),y(Qt),u(a).closeBtn!==!1?(p(),U(ie,X({key:0,dense:u(o),class:"q-btn-tip",icon:"reply_all"},C,{onClick:g}),{default:d(()=>[y(Ce,xe(Ae(b.$tooltipAttr)),{default:d(()=>[J(Q(b.$t("GoBack")),1)]),_:1},16)]),_:1},16,["dense"])):Y("",!0)]),_:1}),re("div",{style:ke(u(v)),class:"qx-page-content"},[Z(b.$slots,"default")],4),e.menuBtn?(p(),U(Ot,{key:0,class:"qx-page-footer rounded-borders flex-center"},{default:d(()=>[Z(b.$slots,"menuLeft"),u(a).submitBtn!==!1?(p(),U(m,{key:0,loading:s.value,icon:"published_with_changes","no-wrap":"",padding:".4em 1.5em","text-color":"primary",onClick:_},{default:d(()=>[J(Q(u(a).submitText||b.$t("Confirm")),1)]),_:1},8,["loading"])):Y("",!0),u(a).closeBtn!==!1?(p(),U(m,{key:1,loading:s.value,icon:"cancel_schedule_send","no-wrap":"",padding:".4em 1.5em","text-color":"negative",onClick:g},{default:d(()=>[J(Q(u(a).closeText||b.$t("Close")),1)]),_:1},8,["loading"])):Y("",!0),Z(b.$slots,"menuRight")]),_:3})):Y("",!0),y(Qe,{showing:s.value},{default:d(()=>[y(He,{color:"primary",size:"50px"})]),_:1},8,["showing"])]),_:3},512)),[[Rt,n.value]]):Y("",!0)]),_:3})}}};var yn=Object.freeze(Object.defineProperty({__proto__:null,default:gn},Symbol.toStringTag,{value:"Module"}));function Ml(e="left",l=[],t=0){var n;const a=[];let o=0;const i=l.length;for(o;o<i;o++){if(l[o].hide)continue;const s=l[o];if(s.required=s.showColumn,["index","menu"].includes(s.name)||(s.name=`${s.field}$$${t}-${o}`),s.align=s.align||e,s.style=s.style||"",s.headerStyle=s.headerStyle||"",s.exportWidth&&(s.exportWidth=Number(s.exportWidth.replace("px","").replace("%",""))),s.width){const v=isNaN(Number(s.width))?s.width:`${s.width}px`;s.style+=`width: ${v}; `,s.headerStyle+=`width: ${v}; `,s.exportWidth||(s.exportWidth=Number(v.replace("px","").replace("%",""))),delete s.width}if(s.minWidth){const v=isNaN(Number(s.minWidth))?s.minWidth:`${s.minWidth}px`;s.style+=`min-width: ${v};`,s.headerStyle+=`min-width: ${v};`,s.exportWidth||(s.exportWidth=Number(v.replace("px","").replace("%",""))),delete s.minWidth}(n=s==null?void 0:s.children)!=null&&n.length?a.push.apply(a,Ml(e,s.children,t+1)):a.push(s)}return a}const zl=(e,l="children")=>{const t=[];return e.forEach(a=>{var o;a.hide||(t.push(a),(o=a[l])!=null&&o.length&&t.push.apply(t,zl(a[l])))}),t};function bn(e=[]){let l=1;const t=(i,n)=>{if(n&&(i.level=n.level+1,l<i.level&&(l=i.level)),i.children){let s=0;i.children.forEach(v=>{v.hide||(t(v,i),s+=v.colSpan)}),i.colSpan=s}else i.colSpan=1};e.forEach(i=>{i.hide||(i.level=1,t(i))});const a=[];for(let i=0;i<l;i++)a.push([]);return zl(e).forEach(i=>{i.children?i.rowSpan=1:i.rowSpan=l-i.level+1,a[i.level-1].push(i)}),a}function Ee(e={}){if(K(e.value))return"";if(ae(e.options)!=="array")return e.value;const l=e.props||{},t=(l.label||"label").split(",")[0];if(e.multiple){const o=e.value.split(",");let i=e.options.filter(n=>ae(n)==="object"?o.includes(n[l.value||"value"]):o.includes(n));return i=i.map(n=>ae(n)==="object"?n[t]:n),i.join(", ")||e.value}const a=e.options.find(o=>ae(o)==="object"?e.value===o[l.value||"value"]:e.value===o);return ae(a)==="object"?a[t]:a||e.value}function El(e="",l={}){return typeof e=="function"?e(l):e}const kn={class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3 grid-style-transition"},xn={class:""},_n={class:"table-menu q-gutter-sm"},Sn={key:1},wn={__name:"TableGrid",props:{props:Object,childKey:String,treeNode:String,selection:String,rowClick:Function,cellClick:Function,headerClick:Function,headerCellClick:Function,rowCls:[String,Function]},emits:["toggleExpand"],setup(e,{emit:l}){const t=e,a=_e("isDark",!1),o=h(()=>t.childKey||"children"),i=(m={},S={})=>{var f;if(!!t.treeNode)return(f=m[o.value])!=null&&f.length?S.field===t.treeNode:!1},n=h(()=>{const{cols:m,row:S}=t.props||{};return m.filter(f=>!["index","menu"].includes(f.name)).map(f=>({...f,__has_child:i(S,f)}))}),s=h(()=>(m={})=>!m.tagColors||K(m.value)?"primary":m.tagColors[m.value]||"primary"),v=(m={})=>{var E;const{treeNode:S,props:f={}}=t,{row:T={}}=f;if(!S)return;let z=0;if((E=T[o.value])!=null&&E.length||(z=16),m.field===S)return{"margin-left":`${Number(T.level||0)*10+z}px`}},C=m=>l("toggleExpand",m,o.value),w=m=>{if(m.headerClick)return m.headerClick(m);if(t.headerCellClick)return t.headerCellClick(m);if(t.headerClick)return t.headerClick(t.props,m)},_=h(()=>m=>{if(m.headerClick||t.headerCellClick)return"cursor-pointer text-primary";if(t.headerClick)return"cursor-pointer"}),g=m=>{if(m.__has_child)return C(t.props);const{row:S}=t.props||{};if(m.cellClick)return m.cellClick(S);if(t.cellClick)return t.cellClick(S);if(t.rowClick)return t.rowClick(S)},b=Ie({"text-subtitle1":!0,"text-capitalize":!0}),$=h(()=>m=>{if(m.__has_child)return"cursor-pointer";if(m.cellClick||t.cellClick)return"cursor-pointer text-primary";if(t.rowClick)return"cursor-pointer"});return(m,S)=>(p(),I("div",kn,[y(qt,{class:pe(e.props.selected?u(a)?"bg-grey-9":"bg-grey-2":"")},{default:d(()=>[y(yl,{class:"row justify-between items-center"},{default:d(()=>[re("div",xn,[y(be,{class:"q-mr-sm"},{default:d(()=>[J(Q(e.props.rowIndex+1),1)]),_:1}),e.selection?Z(m.$slots,"selection",{key:0,props:e.props}):Y("",!0)]),re("div",_n,[Z(m.$slots,"menu")])]),_:3}),y(bt),y(Zl,{class:pe(u(El)(e.rowCls,e.props)),dense:""},{default:d(()=>[(p(!0),I(ne,null,me(u(n),f=>(p(),I(ne,{key:f.name},[y(Tt,{class:pe(u(_)(f)),onClick:Se(T=>w(f),["stop"])},{default:d(()=>[f.headerSlot?(p(),I("span",{key:0,class:pe(b)},[Z(m.$slots,f.field+"H",{row:f})],2)):(p(),I("span",{key:1,class:pe(b)},Q(f.label),3))]),_:2},1032,["class","onClick"]),y(Tt,{class:pe(u($)(f)),style:ke(v(f)),caption:"",onClick:Se(T=>g(f),["stop"])},{default:d(()=>[f.__has_child?(p(),U(be,{key:0,name:e.props.expand?"keyboard_arrow_down":"keyboard_arrow_right",class:"expand-btn",onClick:S[0]||(S[0]=Se(T=>C(e.props),["stop"]))},null,8,["name"])):Y("",!0),f.slot?Z(m.$slots,f.field,{key:1}):(p(),I(ne,{key:2},[f.useTag&&!u(K)(f.value)?(p(),I(ne,{key:0},[y(rt,{color:u(s)(f),rounded:""},null,8,["color"]),J(" "+Q(u(Ee)(f)),1)],64)):(p(),I("span",Sn,Q(u(Ee)(f)),1))],64))]),_:2},1032,["class","style","onClick"])],64))),128))]),_:3},8,["class"])]),_:3},8,["class"])]))}},qe={__name:"QxTooltip",props:{mask:String,rowsNum:{type:[Number,String],default:1},modelValue:[String,Number,Date,Array,Object]},setup(e){const l=e,t=j(!0),a=n=>l.mask?ot.formatDate(n,l.mask):n,o=h(()=>{let n="";const s=Fe().default;if(s&&s())for(const v of s())n+=v.children;return K(n)&&(n=l.modelValue||""),a(n)}),i=n=>{const s=n.target||n,v=s.scrollHeight>s.clientHeight+2,C=s.scrollWidth>s.clientWidth;if(v||C){t.value=!0;return}t.value=!1};return(n,s)=>(p(),I("span",{style:ke({"-webkit-line-clamp":e.rowsNum}),class:"multiRow_5",onMouseenter:i},[J(Q(u(o))+" ",1),t.value?(p(),U(Ce,xe(X({key:0},n.$tooltipAttr)),{default:d(()=>[J(Q(u(o)),1)]),_:1},16)):Y("",!0)],36))}};var $n=Object.freeze(Object.defineProperty({__proto__:null,default:qe},Symbol.toStringTag,{value:"Module"}));const Cn={class:"q-gutter-sm"},Vn={__name:"TableTd",props:{props:Object,childKey:String,treeNode:String,fixedObj:Object,selection:String,rowClick:Function,cellClick:Function,mergeCells:Function,rowCls:[String,Function]},emits:["toggleExpand"],setup(e,{emit:l}){const t=e,a="qx-fixed-column-td-",o=j(null),i=j([]),n=c=>{const{row:k={},rowIndex:r=0}=t.props||{},D=i.value[r]||{};return!t.mergeCells||typeof t.mergeCells!="function"?D[c.name]=[1,1]:D[c.name]=t.mergeCells({row:k,column:c,value:c.value,rowIndex:r})||[1,1],i.value[r]=D,D[c.name]},s=(c={},k=0)=>{const{rowIndex:r=0}=t.props||{};return i.value[r][c.name][k]},v=h(()=>t.childKey||"children"),C=(c={},k={})=>{var r;if(!!t.treeNode)return(r=c[v.value])!=null&&r.length?k.field===t.treeNode:!1},w=h(()=>{const{cols:c,row:k}=t.props||{};return c.filter(r=>{if(r.fixed!=="left"||["index","menu"].includes(r.name))return!1;if(n(r)[0]>0)return!0;const{rowIndex:D=0}=t.props||{};return i.value[D][r.name][1]>0}).map(r=>({...r,__has_child:C(k,r)}))}),_=h(()=>{const{cols:c,row:k}=t.props||{};return c.filter(r=>{if(r.fixed||["index","menu"].includes(r.name))return!1;if(n(r)[0]>0)return!0;const{rowIndex:D=0}=t.props||{};return i.value[D][r.name][1]>0}).map(r=>({...r,__has_child:C(k,r)}))}),g=h(()=>{const{cols:c,row:k}=t.props||{};return c.filter(r=>{if(r.fixed!=="right"||["index","menu"].includes(r.name))return!1;if(n(r)[0]>0)return!0;const{rowIndex:D=0}=t.props||{};return i.value[D][r.name][1]>0}).map(r=>({...r,__has_child:C(k,r)}))}),b=h(()=>(c={})=>{var r;const k=(r=t.fixedObj)==null?void 0:r[c.name];if(k)return{left:k}}),$=h(()=>(c={})=>{var r;const k=(r=t.fixedObj)==null?void 0:r[c.name];if(k)return{right:k}}),m=h(()=>(c={})=>!c.tagColors||K(c.value)?"primary":c.tagColors[c.value]||"primary"),S=(c={},k={})=>{var O;if(!t.treeNode)return;const{row:r={}}=c;let D=0;if((O=r[v.value])!=null&&O.length||(D=16),k.field===t.treeNode)return{"margin-left":`${Number(r.level||0)*10+D}px`}},f=c=>l("toggleExpand",c,v.value),T=c=>{if(c.__has_child)return f(t.props);const{row:k}=t.props||{};if(c.cellClick)return c.cellClick(k);if(t.cellClick)return t.cellClick(k)},z=h(()=>c=>{let k="";return c.fixed&&(k=`${a}${c.name} `),c.__has_child?k+"cursor-pointer":c.cellClick||t.cellClick?k+"cursor-pointer text-primary":t.rowClick?k+"cursor-pointer":c.className?k+" "+c.className:k}),E=_e("isDense",!0),P=h(()=>E.value?t.selection?"36px":0:t.selection?"52px":0);return(c,k)=>(p(),U(kl,{ref_key:"TableTD",ref:o,class:pe(u(El)(e.rowCls,e.props)),props:e.props,onClick:k[3]||(k[3]=r=>e.rowClick&&e.rowClick(e.props))},{default:d(()=>[e.selection?(p(),U(Je,{key:0,class:"qx-table--selection-td"},{default:d(()=>[Z(c.$slots,"selection",{props:e.props})]),_:3})):Y("",!0),y(Je,{key:"index",props:e.props,style:ke({left:u(P)}),class:"qx-table--index-td"},{default:d(()=>[J(Q(e.props.rowIndex+1),1)]),_:1},8,["props","style"]),(p(!0),I(ne,null,me(u(w),r=>(p(),U(Je,{key:r.name,class:pe(u(z)(r)),colspan:s(r,1),props:e.props,rowspan:s(r),style:ke(u(b)(r)),onClick:Se(D=>T(r),["stop"])},{default:d(()=>[re("div",{style:ke(S(e.props,r))},[r.__has_child?(p(),U(be,{key:0,name:e.props.expand?"keyboard_arrow_down":"keyboard_arrow_right",class:"expand-btn",onClick:k[0]||(k[0]=Se(D=>f(e.props),["stop"]))},null,8,["name"])):Y("",!0),r.slot?Z(c.$slots,r.field,{key:1}):(p(),I(ne,{key:2},[r.useTag&&!u(K)(r.value)?(p(),I(ne,{key:0},[y(rt,{color:u(m)(r),rounded:""},null,8,["color"]),J(" "+Q(u(Ee)(r)),1)],64)):(p(),U(qe,{key:1,rowsNum:r.rowsNum||3},{default:d(()=>[J(Q(u(Ee)(r)),1)]),_:2},1032,["rowsNum"]))],64))],4)]),_:2},1032,["class","colspan","props","rowspan","style","onClick"]))),128)),(p(!0),I(ne,null,me(u(_),r=>(p(),U(Je,{key:r.name,class:pe(u(z)(r)),colspan:s(r,1),props:e.props,rowspan:s(r),onClick:Se(D=>T(r),["stop"])},{default:d(()=>[re("div",{style:ke(S(e.props,r))},[r.__has_child?(p(),U(be,{key:0,name:e.props.expand?"keyboard_arrow_down":"keyboard_arrow_right",class:"expand-btn",onClick:k[1]||(k[1]=Se(D=>f(e.props),["stop"]))},null,8,["name"])):Y("",!0),r.slot?Z(c.$slots,r.field,{key:1}):(p(),I(ne,{key:2},[r.useTag&&!u(K)(r.value)?(p(),I(ne,{key:0},[y(rt,{color:u(m)(r),rounded:""},null,8,["color"]),J(" "+Q(u(Ee)(r)),1)],64)):(p(),U(qe,{key:1,rowsNum:r.rowsNum||3},{default:d(()=>[J(Q(u(Ee)(r)),1)]),_:2},1032,["rowsNum"]))],64))],4)]),_:2},1032,["class","colspan","props","rowspan","onClick"]))),128)),(p(!0),I(ne,null,me(u(g),r=>(p(),U(Je,{key:r.name,class:pe(u(z)(r)),colspan:s(r,1),props:e.props,rowspan:s(r),style:ke(u($)(r)),onClick:Se(D=>T(r),["stop"])},{default:d(()=>[re("div",{style:ke(S(e.props,r))},[r.__has_child?(p(),U(be,{key:0,name:e.props.expand?"keyboard_arrow_down":"keyboard_arrow_right",class:"expand-btn",onClick:k[2]||(k[2]=Se(D=>f(e.props),["stop"]))},null,8,["name"])):Y("",!0),r.slot?Z(c.$slots,r.field,{key:1}):(p(),I(ne,{key:2},[r.useTag&&!u(K)(r.value)?(p(),I(ne,{key:0},[y(rt,{color:u(m)(r),rounded:""},null,8,["color"]),J(" "+Q(u(Ee)(r)),1)],64)):(p(),U(qe,{key:1,rowsNum:r.rowsNum||3},{default:d(()=>[J(Q(u(Ee)(r)),1)]),_:2},1032,["rowsNum"]))],64))],4)]),_:2},1032,["class","colspan","props","rowspan","style","onClick"]))),128)),y(Je,{key:"menu",props:e.props,class:"qx-table--menu-td"},{default:d(()=>[re("div",Cn,[Z(c.$slots,"menu")])]),_:3},8,["props"])]),_:3},8,["class","props"]))}},Tn={__name:"TableTh",props:{index:Number,props:Object,columns:Array,fixedObj:Object,selection:String,headerClick:Function,headerCellClick:Function},setup(e){const l=e,t="qx-fixed-column-",a=_e("isDense",!0),o=j(null),i=j({}),n=()=>{i.value=l.fixedObj||{}};se(fe(l,"fixedObj"),()=>{n()},{immediate:!0});const s=h(()=>l.index===0),v=h(()=>a.value?l.selection?"36px":0:l.selection?"52px":0),C=h(()=>(l.columns||[]).filter(c=>!["index","menu"].includes(c.name)&&c.fixed==="left")),w=h(()=>(l.columns||[]).filter(c=>!["index","menu"].includes(c.name)&&!c.fixed)),_=h(()=>(l.columns||[]).filter(c=>!["index","menu"].includes(c.name)&&c.fixed==="right")),g=h(()=>{if(!o.value)return{left:0};const c=o.value.$el.querySelector(".qx-table--index");return c?{left:((ze.offset(c)||{}).left||0)-parseInt(ze.style(c,"left"))}:{left:0}}),b=h(()=>(c={})=>{if(i.value[c.name])return{left:i.value[c.name]};if(!o.value)return;const k=o.value.$el.querySelector(`.${t}${c.name}`);if(!k)return;const r=`${ze.offset(k).left-g.value.left}px`;return i.value[c.name]=r,{left:r}}),$=h(()=>{if(!o.value)return{width:0};const c=o.value.$el.querySelector(".qx-table--menu");return c?{width:ze.width(c)}:{width:0}}),m=h(()=>{if(!o.value)return 0;let c=$.value.width;for(const k of _.value){const r=o.value.$el.querySelector(`.${t}${k.name}`);r&&(c+=ze.width(r))}return c}),S=h(()=>{let c=0;return(k={})=>{if(i.value[k.name])return{right:i.value[k.name]};if(!o.value)return;const r=o.value.$el.querySelector(`.${t}${k.name}`);if(!r)return;c+=ze.width(r);const D=`${m.value-c}px`;return i.value[k.name]=D,{right:D}}}),f=h(()=>(l.columns||[]).find(c=>c.name==="menu")||{}),T=h(()=>c=>{if(K(c.children))return l.props}),z=h(()=>c=>{let k="";return c.fixed&&(k=`${t}${c.name} `),c.headerClick||l.headerCellClick?k+"cursor-pointer text-primary":l.headerClick?k+"cursor-pointer":k}),E=c=>{if(c.headerClick)return c.headerClick(c);if(l.headerCellClick)return l.headerCellClick(c)},P=Ie({class:"text-subtitle1 text-capitalize"});return(c,k)=>(p(),U(kl,{ref_key:"TableTH",ref:o,class:pe(u(s)?"":"non-first-row"),props:e.props,onClick:k[0]||(k[0]=r=>e.headerClick&&e.headerClick(e.props))},{default:d(()=>[e.selection&&u(s)?(p(),U(Ze,{key:"selection",class:"qx-table--selection",rowspan:"100%"},{default:d(()=>[e.selection==="multiple"?Z(c.$slots,"selection",{key:0,props:e.props}):Y("",!0)]),_:3})):Y("",!0),u(s)?(p(),U(Ze,{key:"index",props:e.props,style:ke({left:u(v)}),class:"qx-table--index",rowspan:"100%"},{default:d(()=>[re("span",xe(Ae(P)),"#",16)]),_:1},8,["props","style"])):Y("",!0),(p(!0),I(ne,null,me(u(C),r=>(p(),U(Ze,{key:r.name,class:pe(u(z)(r)),colSpan:r.colSpan,props:u(T)(r),rowSpan:r.rowSpan,style:ke(u(b)(r)),onClick:D=>E(r)},{default:d(()=>[r.headerSlot?(p(),I("div",xe(X({key:0},P)),[Z(c.$slots,r.field+"H",{row:r})],16)):(p(),I("div",xe(X({key:1},P)),Q(r.label),17))]),_:2},1032,["class","colSpan","props","rowSpan","style","onClick"]))),128)),(p(!0),I(ne,null,me(u(w),r=>(p(),U(Ze,{key:r.name,class:pe(u(z)(r)),colSpan:r.colSpan,props:u(T)(r),rowSpan:r.rowSpan,onClick:D=>E(r)},{default:d(()=>[r.headerSlot?(p(),I("div",xe(X({key:0},P)),[Z(c.$slots,r.field+"H",{row:r})],16)):(p(),I("div",xe(X({key:1},P)),Q(r.label),17))]),_:2},1032,["class","colSpan","props","rowSpan","onClick"]))),128)),(p(!0),I(ne,null,me(u(_),r=>(p(),U(Ze,{key:r.name,class:pe(u(z)(r)),colSpan:r.colSpan,props:u(T)(r),rowSpan:r.rowSpan,style:ke(u(S)(r)),onClick:D=>E(r)},{default:d(()=>[r.headerSlot?(p(),I("div",xe(X({key:0},P)),[Z(c.$slots,r.field+"H",{row:r})],16)):(p(),I("div",xe(X({key:1},P)),Q(r.label),17))]),_:2},1032,["class","colSpan","props","rowSpan","style","onClick"]))),128)),u(s)?(p(),U(Ze,{key:"menu",props:e.props,class:"qx-table--menu",rowspan:"100%"},{default:d(()=>[re("span",xe(Ae(P)),Q(u(f).label),17)]),_:1},8,["props"])):Y("",!0)]),_:3},8,["class","props"]))}},jn={class:"full-width row justify-between"},Nn={class:"q-gutter-x-sm row items-center"},qn={key:0,class:"q-gutter-x-sm row items-center"},Bn={__name:"TableTop",props:{props:Object,grid:Boolean,rightBtn:{type:Boolean,default:!0},columns:{type:Array,default(){return[]}},gridBtn:Boolean,multiColumn:Array,searchBtn:Boolean,refreshBtn:Boolean,isFullscreen:Boolean,dynamicColumns:Array},emits:["refresh","update:isFullscreen","update:grid","update:dynamicColumns"],setup(e,{emit:l}){const t=e,a=_e("isDense",!0),o=j(!t.rightBtn),i=j(t.dynamicColumns||[]),n=h(()=>{var f;return((f=t.multiColumn)==null?void 0:f.length)===1});We(()=>{o.value=!0});const s=h(()=>f=>f?"view_list":"grid_view"),v=h(()=>f=>f.inFullscreen?"fullscreen_exit":"zoom_out_map"),C=h(()=>t.columns.filter(f=>!f.required).map(f=>({label:f.label,value:f.name}))),w={backgroundColor:"transparent",opacity:0},_=h(()=>({round:!0,dense:a.value,size:"13px",textColor:"primary"}));Ht(()=>l("update:dynamicColumns",i.value));const g=()=>{t.dynamicColumns&&(i.value=[...t.dynamicColumns])},b=()=>l("refresh"),$=()=>l("update:grid",!t.grid),m=()=>o.value=!o.value,S=f=>{l("update:isFullscreen",!t.isFullscreen),f.toggleFullscreen()};return(f,T)=>(p(),I(ne,null,[e.searchBtn?Y("",!0):Z(f.$slots,"top",{key:0}),e.searchBtn?(p(),U(xl,{key:1,class:"full-width"},{default:d(()=>[Re(re("div",null,[Z(f.$slots,"top")],512),[[Rt,o.value]])]),_:3})):Y("",!0),re("div",jn,[re("div",Nn,[Z(f.$slots,"menuLeft")]),y(Qt),e.rightBtn?(p(),I("div",qn,[Z(f.$slots,"menuRight",{btnAttr:u(_)}),e.refreshBtn?(p(),U(ie,X({key:0,class:"q-btn-refresh",icon:"cached"},u(_),{onClick:b}),{default:d(()=>[y(Ce,X({class:"text-no-wrap"},f.$tooltipAttr),{default:d(()=>[J(Q(f.$t("Refresh")),1)]),_:1},16)]),_:1},16)):Y("",!0),e.gridBtn&&!f.$q.screen.xs?(p(),U(ie,X({key:1,icon:u(s)(e.grid)},u(_),{onClick:$}),{default:d(()=>[y(Ce,X({class:"text-no-wrap"},f.$tooltipAttr),{default:d(()=>[J(Q(e.grid?f.$t("List"):f.$t("Grid")),1)]),_:1},16)]),_:1},16,["icon"])):Y("",!0),y(ie,X({icon:u(v)(e.props)},u(_),{onClick:T[0]||(T[0]=z=>S(e.props))}),{default:d(()=>[y(Ce,X({class:"text-no-wrap"},f.$tooltipAttr),{default:d(()=>[J(Q(e.props.inFullscreen?f.$t("ExitFullScreen"):f.$t("FullScreen")),1)]),_:1},16)]),_:1},16,["icon"]),e.searchBtn?(p(),U(ie,X({key:2,icon:"search"},u(_),{onClick:m}),{default:d(()=>[y(Ce,X({class:"text-no-wrap"},f.$tooltipAttr),{default:d(()=>[J(Q(f.$t("Search")+f.$t("ShowHide")),1)]),_:1},16)]),_:1},16)):Y("",!0),u(n)?(p(),U(ie,X({key:3,icon:"tune"},u(_),{onClick:g}),{default:d(()=>[y(Ce,X({class:"text-no-wrap"},f.$tooltipAttr),{default:d(()=>[J(Q(f.$t("Column")+f.$t("ShowHide")),1)]),_:1},16),y(at,{offset:[10,10],anchor:"bottom left",breakpoint:"0",class:"q-pa-md dynamic-column-popup",self:"top left","transition-hide":"jump-up","transition-show":"jump-down"},{default:d(()=>[y(Mt,{"thumb-style":w,visible:!1,class:"fit"},{default:d(()=>[y(At,{modelValue:i.value,"onUpdate:modelValue":T[1]||(T[1]=z=>i.value=z),options:u(C),type:"checkbox"},null,8,["modelValue","options"])]),_:1})]),_:1})]),_:1},16)):Y("",!0)])):Y("",!0)])],64))}},Ln={class:"full-width text-center text-italic text-body2"},Fn={class:"full-width text-center text-italic text-body2"},On={class:"qx-table-bottom row justify-between"},Mn={class:"row q-gutter-x-sm items-center"},zn={key:0,class:"selected-tips text-subtitle1"},En={key:0,class:"q-gutter-x-sm row items-center"},Pn={class:"text-subtitle1"},Jt={__name:"QxTable",props:{data:Array,option:Object,selected:Array,loading:Boolean,fileName:String,rowClick:Function,cellClick:Function,formatData:Function,mergeCells:Function,headerClick:Function,headerCellClick:Function,rowKey:[String,Function],rowCls:[String,Function],remoteData:[Function,Object]},emits:["update:selected","update:loading"],setup(e,{expose:l,emit:t}){const a=e,o=j(null),i=Fe(),n=j([]),s=j(a.data||[]),v=h(()=>{const{index:V=!0,column:M=[],menu:le,menuWidth:oe=80,menuText:W=ee.t("Operation")}=a.option||{},te=Ve(M);if(V){const he="width: 50px; min-width: 50px;";te.unshift({name:"index",label:"#",showColumn:!0,headerStyle:he,style:he,align:"center",field:"index",export:!1})}if(le){const he=`width: ${oe}px; min-width: ${oe}px`;te.push({name:"menu",label:W,headerStyle:he,showColumn:!0,style:he,align:"center",field:"menu",export:!1})}return te}),C=j({}),w=j([]),_=h(()=>bn(v.value)),g=h(()=>{var V;return Ml((V=a.option)==null?void 0:V.align,v.value)}),b=j(!1),$=j(!1),m=j(!1),S=h(()=>s.value.length>100),f=h(()=>{if(!S.value||!o.value)return 0;const V=o.value.$el.querySelector("thead");return V?ze.height(V):0}),T=h(()=>{const{searchBtn:V=!0}=a.option||{};return V?!!i.top:!1}),z=h(()=>{const{refreshBtn:V}=a.option||{};return V!=null?V:!!c.value}),E=h(()=>{const{rightBtn:V}=a.option||{};return V!==!1}),P=h(()=>!s.value.length||O.value.length?!1:!(i.bottomLeft||k.value)),c=h(()=>{const{remoteData:V}=a;if(typeof V=="function")return V();if(typeof V=="object")return V}),k=h(()=>{const{page:V}=a.option||{};return V!==!1&&c.value}),r=j({page:1,rowsPerPage:k.value?20:0,rowsNumber:k.value?0:void 0,sortBy:"",descending:!1}),D=h(()=>{const V=r.value.rowsNumber/(r.value.rowsPerPage||1);return Math.ceil(V)||1}),O=j([]),A=h(()=>{var V;return(V=a.option)==null?void 0:V.selection}),L=()=>{O.value!==a.selected&&(O.value=a.selected||[])},R=()=>ve(()=>t("update:selected",O.value));se(()=>a.selected,()=>L(),{immediate:!0});const N=h(()=>m.value?"qx-full-table qx-table":"qx-table"),x=h(()=>{if(m.value)return;const{height:V,maxHeight:M="100%"}=a.option||{};return V?{height:V}:M?{maxHeight:M}:{}}),B=h(()=>V=>`${V.field}H`),H=h(()=>(V=[],M="")=>M==="H"?V.filter(le=>le.headerSlot):V.filter(le=>le.slot)),ce=V=>w.value=V.filter(M=>!M.required).map(M=>M.name);Ht(()=>ve(()=>ce(g.value)));const $e=async(V,M)=>{if(a.formatData&&typeof formatData=="function"){const le=await a.formatData(V,r)||{};s.value=le.data||[],r.value.page=+(le.pageNum||1),r.value.rowsNumber=+(le.total||0),$.value=!1}else s.value=[],await ve(()=>{s.value=V.rows||V,r.value.page=+(V.pageNum||1),r.value.rowsNumber=+(V.total||0),M&&M(),$.value=!1,t("update:loading",!1)})},je=la((V={pagination:r.value})=>{const{sortBy:M,descending:le}=V.pagination;if(n.value=[],r.value.sortBy=M,r.value.descending=le,!c.value){s.value=[],ve(()=>s.value=a.data||[]);return}if(typeof c.value.params=="string")return;c.value.clearSelected&&(q(),delete c.value.clearSelected),$.value=!0,t("update:loading",!0);const oe=Date.now()+1e3,W=Ve(c.value),te=W.dicMethod==="get"?Bt:Ge;W.params=W.params||{},k.value?(W.params.pageNum=r.value.page,W.params.pageSize=r.value.rowsPerPage):W.params.pageSize="-1",te(W.dicUrl,W.params,he=>{const ue=oe-Date.now();if(ue>0){let Oe=setTimeout(()=>{$e(he,W.done),clearTimeout(Oe),Oe=null},ue)}else $e(he,W.done)},()=>{s.value=[],$.value=!1,t("update:loading",!1)})},1e3);se(()=>a.data,()=>je()),se(()=>a.remoteData,()=>je(),{deep:!0});const _t=(V={},M)=>{if(V.expand){V.expand=!1,n.value=n.value.filter(W=>W!==V.key);const{parentId:oe="parentIds"}=a.option||{};s.value=s.value.filter(W=>!W[oe].split(",").includes(V.key));return}V.expand=!0,[0,"0"].includes(V.row.level)&&(n.value=[V.key],s.value=s.value.filter(oe=>[0,"0"].includes(oe.level)));const le=s.value.findIndex(oe=>oe.id===V.key);s.value.splice(le+1,0,...V.row[M])},F=h(()=>[{label:`5${ee.t("ItemPage")}`,value:5},{label:`10${ee.t("ItemPage")}`,value:10},{label:`20${ee.t("ItemPage")}`,value:20},{label:`50${ee.t("ItemPage")}`,value:50},{label:`100${ee.t("ItemPage")}`,value:100}]),G=Ie({outlined:!0,"options-dense":!0,dense:!0,options:F,"emit-value":!0,"map-options":!0}),q=()=>{o.value&&o.value.clearSelection(),t("update:selected",[])};return l({clearSelection:q}),(V,M)=>{var oe;const le=Ke("q-export");return p(),U(ta,{ref_key:"QxTable",ref:o,expanded:n.value,"onUpdate:expanded":M[9]||(M[9]=W=>n.value=W),pagination:r.value,"onUpdate:pagination":M[10]||(M[10]=W=>r.value=W),selected:O.value,"onUpdate:selected":M[11]||(M[11]=W=>O.value=W),class:pe(u(N)),columns:u(g),grid:!u(S)&&(b.value||V.$q.screen.xs),"hide-bottom":u(P),loading:e.loading||$.value,"row-key":(oe=e.rowKey)!=null?oe:"id",rows:s.value,selection:u(A),style:ke(u(x)),"virtual-scroll":u(S),"virtual-scroll-sticky-size-start":u(f),"visible-columns":w.value,bordered:"",dense:"","hide-pagination":"",separator:"cell","wrap-cells":"",onRequest:u(je),onSelection:R},{top:d(W=>[y(Bn,{dynamicColumns:w.value,"onUpdate:dynamicColumns":M[0]||(M[0]=te=>w.value=te),grid:b.value,"onUpdate:grid":M[1]||(M[1]=te=>b.value=te),isFullscreen:m.value,"onUpdate:isFullscreen":M[2]||(M[2]=te=>m.value=te),columns:u(g),gridBtn:!u(S),multiColumn:u(_),props:W,refreshBtn:u(z),rightBtn:u(E),searchBtn:u(T),onRefresh:u(je)},we({menuLeft:d(()=>{var te,he,ue,Oe,Ye,Xe,Be;return[Z(V.$slots,"menuLeft",{selected:O.value}),(te=e.option)!=null&&te.export?(p(),U(le,{key:0,columns:u(g),data:s.value,exportMethod:(he=u(c))==null?void 0:he.dicMethod,exportQuery:(ue=u(c))==null?void 0:ue.params,exportText:(Oe=e.option)==null?void 0:Oe.exportText,exportUrl:(Ye=u(c))==null?void 0:Ye.dicUrl,fileName:e.fileName,isFormat:(Xe=e.option)==null?void 0:Xe.isFormat,isStream:(Be=e.option)==null?void 0:Be.isStream},null,8,["columns","data","exportMethod","exportQuery","exportText","exportUrl","fileName","isFormat","isStream"])):Y("",!0)]}),menuRight:d(te=>[Z(V.$slots,"menuRight",{btnAttr:te,props:W})]),_:2},[u(i).top?{name:"top",fn:d(()=>[Z(V.$slots,"top",{props:W}),y(bt)]),key:"0"}:void 0]),1032,["dynamicColumns","grid","isFullscreen","columns","gridBtn","multiColumn","props","refreshBtn","rightBtn","searchBtn","onRefresh"])]),header:d(W=>[(p(!0),I(ne,null,me(u(_),(te,he)=>(p(),U(Tn,{key:he,fixedObj:C.value,"onUpdate:fixedObj":M[3]||(M[3]=ue=>C.value=ue),columns:te,"header-cell-click":e.headerCellClick,"header-click":e.headerClick,index:he,props:W,selection:u(A)},we({selection:d(()=>[y(it,{modelValue:W.selected,"onUpdate:modelValue":ue=>W.selected=ue,dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},[me(u(H)(te,"H"),ue=>({name:u(B)(ue),fn:d(()=>[Z(V.$slots,u(B)(ue))])}))]),1032,["fixedObj","columns","header-cell-click","header-click","index","props","selection"]))),128))]),body:d(W=>{var te,he;return[y(Vn,{fixedObj:C.value,"onUpdate:fixedObj":M[4]||(M[4]=ue=>C.value=ue),"cell-click":e.cellClick,"child-key":(te=e.option)==null?void 0:te.childKey,"merge-cells":e.mergeCells,props:W,"row-click":e.rowClick,"row-cls":e.rowCls,selection:u(A),"tree-node":(he=e.option)==null?void 0:he.treeNode,onToggleExpand:_t},we({selection:d(()=>[y(it,{modelValue:W.selected,"onUpdate:modelValue":ue=>W.selected=ue,dense:""},null,8,["modelValue","onUpdate:modelValue"])]),menu:d(()=>[Z(V.$slots,"menu",{index:W.rowIndex,row:W.row})]),_:2},[me(u(H)(W.cols),ue=>({name:ue.field,fn:d(()=>[ue.slot?Z(V.$slots,ue.field,{key:0,index:W.rowIndex,row:W.row}):Y("",!0)])}))]),1032,["fixedObj","cell-click","child-key","merge-cells","props","row-click","row-cls","selection","tree-node"])]}),item:d(W=>{var te,he;return[y(wn,{"cell-click":e.cellClick,"child-key":(te=e.option)==null?void 0:te.childKey,"header-cell-click":e.headerCellClick,"header-click":e.headerClick,props:W,"row-click":e.rowClick,"row-cls":e.rowCls,selection:u(A),"tree-node":(he=e.option)==null?void 0:he.treeNode,onToggleExpand:_t},we({selection:d(()=>[y(it,{modelValue:W.selected,"onUpdate:modelValue":ue=>W.selected=ue,dense:""},null,8,["modelValue","onUpdate:modelValue"])]),menu:d(()=>[Z(V.$slots,"menu",{index:W.rowIndex,row:W.row})]),_:2},[me(u(H)(W.cols),ue=>({name:ue.field,fn:d(()=>[ue.slot?Z(V.$slots,ue.field,{key:0,index:W.rowIndex,row:W.row}):Y("",!0)])}))]),1032,["cell-click","child-key","header-cell-click","header-click","props","row-click","row-cls","selection","tree-node"])]}),"no-data":d(({icon:W,message:te})=>[re("div",Ln,[re("div",Fn,[y(be,{name:W,size:"1.5rem"},null,8,["name"]),J(" "+Q(te),1)])])]),loading:d(()=>[y(Qe,{showing:""},{default:d(()=>[y(He,{color:"primary",size:"3em"})]),_:1})]),bottom:d(()=>[re("div",On,[re("div",Mn,[O.value.length?(p(),I("span",zn,[J(Q(V.$t("SelectedTips",[O.value.length]))+" ",1),y(ie,{label:V.$t("Empty"),color:"primary",flat:"",padding:"0",onClick:q},null,8,["label"])])):Y("",!0),Z(V.$slots,"bottomLeft")]),u(k)?(p(),I("div",En,[re("span",Pn,Q(V.$t("Totals"))+": "+Q(r.value.rowsNumber||0),1),y(_l,X({modelValue:r.value.rowsPerPage,"onUpdate:modelValue":M[5]||(M[5]=W=>r.value.rowsPerPage=W)},G,{"onUpdate:modelValue":M[6]||(M[6]=W=>u(je)())}),null,16,["modelValue"]),y(ea,{modelValue:r.value.page,"onUpdate:modelValue":[M[7]||(M[7]=W=>r.value.page=W),M[8]||(M[8]=W=>u(je)())],max:u(D),"max-pages":6},null,8,["modelValue","max"])])):Y("",!0)])]),_:3},8,["expanded","pagination","selected","class","columns","grid","hide-bottom","loading","row-key","rows","selection","style","virtual-scroll","virtual-scroll-sticky-size-start","visible-columns","onRequest"])}}};var Un=Object.freeze(Object.defineProperty({__proto__:null,default:Jt},Symbol.toStringTag,{value:"Module"}));const Qn=["none","strict","leaf","leaf-filtered"];var ml=aa({name:"QTree",props:{...na,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>Qn.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazy-load","after-show","after-hide"],setup(e,{slots:l,emit:t}){const{proxy:a}=ya(),{$q:o}=a,i=ra(e,o),n=j({}),s=j(e.ticked||[]),v=j(e.expanded||[]);let C={};ga(()=>{C={}});const w=h(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(i.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),_=h(()=>e.selected!==void 0),g=h(()=>e.icon||o.iconSet.tree.icon),b=h(()=>e.controlColor||e.color),$=h(()=>e.textColor!==void 0?` text-${e.textColor}`:""),m=h(()=>{const F=e.selectedColor||e.color;return F?` text-${F}`:""}),S=h(()=>e.filterMethod!==void 0?e.filterMethod:(F,G)=>{const q=G.toLowerCase();return F[e.labelKey]&&F[e.labelKey].toLowerCase().indexOf(q)>-1}),f=h(()=>{const F={},G=(q,V)=>{const M=q.tickStrategy||(V?V.tickStrategy:e.tickStrategy),le=q[e.nodeKey],oe=q[e.childrenKey]&&q[e.childrenKey].length>0,W=q.disabled!==!0&&_.value===!0&&q.selectable!==!1,te=q.disabled!==!0&&q.expandable!==!1,he=M!=="none",ue=M==="strict",Oe=M==="leaf-filtered",Ye=M==="leaf"||M==="leaf-filtered";let Xe=q.disabled!==!0&&q.tickable!==!1;Ye===!0&&Xe===!0&&V&&V.tickable!==!0&&(Xe=!1);let Be=q.lazy;Be===!0&&n.value[le]!==void 0&&Array.isArray(q[e.childrenKey])===!0&&(Be=n.value[le]);const de={key:le,parent:V,isParent:oe,lazy:Be,disabled:q.disabled,link:q.disabled!==!0&&(W===!0||te===!0&&(oe===!0||Be===!0)),children:[],matchesFilter:e.filter?S.value(q,e.filter):!0,selected:le===e.selected&&W===!0,selectable:W,expanded:oe===!0?v.value.includes(le):!1,expandable:te,noTick:q.noTick===!0||ue!==!0&&Be&&Be!=="loaded",tickable:Xe,tickStrategy:M,hasTicking:he,strictTicking:ue,leafFilteredTicking:Oe,leafTicking:Ye,ticked:ue===!0?s.value.includes(le):oe===!0?!1:s.value.includes(le)};if(F[le]=de,oe===!0&&(de.children=q[e.childrenKey].map(ye=>G(ye,de)),e.filter&&(de.matchesFilter!==!0?de.matchesFilter=de.children.some(ye=>ye.matchesFilter):de.noTick!==!0&&de.disabled!==!0&&de.tickable===!0&&Oe===!0&&de.children.every(ye=>ye.matchesFilter!==!0||ye.noTick===!0||ye.tickable!==!0)===!0&&(de.tickable=!1)),de.matchesFilter===!0&&(de.noTick!==!0&&ue!==!0&&de.children.every(ye=>ye.noTick)===!0&&(de.noTick=!0),Ye))){if(de.ticked=!1,de.indeterminate=de.children.some(ye=>ye.indeterminate===!0),de.tickable=de.tickable===!0&&de.children.some(ye=>ye.tickable),de.indeterminate!==!0){const ye=de.children.reduce((el,Dl)=>Dl.ticked===!0?el+1:el,0);ye===de.children.length?de.ticked=!0:ye>0&&(de.indeterminate=!0)}de.indeterminate===!0&&(de.indeterminateNextState=de.children.every(ye=>ye.tickable!==!0||ye.ticked!==!0))}return de};return e.nodes.forEach(q=>G(q,null)),F});se(()=>e.ticked,F=>{s.value=F}),se(()=>e.expanded,F=>{v.value=F});function T(F){const G=[].reduce,q=(V,M)=>{if(V||!M)return V;if(Array.isArray(M)===!0)return G.call(Object(M),q,V);if(M[e.nodeKey]===F)return M;if(M[e.childrenKey])return q(null,M[e.childrenKey])};return q(null,e.nodes)}function z(){return s.value.map(F=>T(F))}function E(){return v.value.map(F=>T(F))}function P(F){return F&&f.value[F]?f.value[F].expanded:!1}function c(){e.expanded!==void 0?t("update:expanded",[]):v.value=[]}function k(){const F=v.value,G=q=>{q[e.childrenKey]&&q[e.childrenKey].length>0&&q.expandable!==!1&&q.disabled!==!0&&(F.push(q[e.nodeKey]),q[e.childrenKey].forEach(G))};e.nodes.forEach(G),e.expanded!==void 0?t("update:expanded",F):v.value=F}function r(F,G,q=T(F),V=f.value[F]){if(V.lazy&&V.lazy!=="loaded"){if(V.lazy==="loading")return;n.value[F]="loading",Array.isArray(q[e.childrenKey])!==!0&&(q[e.childrenKey]=[]),t("lazy-load",{node:q,key:F,done:M=>{n.value[F]="loaded",q[e.childrenKey]=Array.isArray(M)===!0?M:[],ve(()=>{const le=f.value[F];le&&le.isParent===!0&&D(F,!0)})},fail:()=>{delete n.value[F],q[e.childrenKey].length===0&&delete q[e.childrenKey]}})}else V.isParent===!0&&V.expandable===!0&&D(F,G)}function D(F,G){let q=v.value;const V=e.expanded!==void 0;if(V===!0&&(q=q.slice()),G){if(e.accordion&&f.value[F]){const M=[];f.value[F].parent?f.value[F].parent.children.forEach(le=>{le.key!==F&&le.expandable===!0&&M.push(le.key)}):e.nodes.forEach(le=>{const oe=le[e.nodeKey];oe!==F&&M.push(oe)}),M.length>0&&(q=q.filter(le=>M.includes(le)===!1))}q=q.concat([F]).filter((M,le,oe)=>oe.indexOf(M)===le)}else q=q.filter(M=>M!==F);V===!0?t("update:expanded",q):v.value=q}function O(F){return F&&f.value[F]?f.value[F].ticked:!1}function A(F,G){let q=s.value;const V=e.ticked!==void 0;V===!0&&(q=q.slice()),G?q=q.concat(F).filter((M,le,oe)=>oe.indexOf(M)===le):q=q.filter(M=>F.includes(M)===!1),V===!0&&t("update:ticked",q)}function L(F,G,q){const V={tree:a,node:F,key:q,color:e.color,dark:i.value};return al(V,"expanded",()=>G.expanded,M=>{M!==G.expanded&&r(q,M)}),al(V,"ticked",()=>G.ticked,M=>{M!==G.ticked&&A([q],M)}),V}function R(F){return(e.filter?F.filter(G=>f.value[G[e.nodeKey]].matchesFilter):F).map(G=>H(G))}function N(F){if(F.icon!==void 0)return ge(be,{class:"q-tree__icon q-mr-sm",name:F.icon,color:F.iconColor});const G=F.img||F.avatar;if(G)return ge("img",{class:`q-tree__${F.img?"img":"avatar"} q-mr-sm`,src:G})}function x(){t("after-show")}function B(){t("after-hide")}function H(F){const G=F[e.nodeKey],q=f.value[G],V=F.header&&l[`header-${F.header}`]||l["default-header"],M=q.isParent===!0?R(F[e.childrenKey]):[],le=M.length>0||q.lazy&&q.lazy!=="loaded";let oe=F.body&&l[`body-${F.body}`]||l["default-body"];const W=V!==void 0||oe!==void 0?L(F,q,G):null;return oe!==void 0&&(oe=ge("div",{class:"q-tree__node-body relative-position"},[ge("div",{class:$.value},[oe(W)])])),ge("div",{key:G,class:`q-tree__node relative-position q-tree__node--${le===!0?"parent":"child"}`},[ge("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(q.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(q.selected===!0?" q-tree__node--selected":"")+(q.disabled===!0?" q-tree__node--disabled":""),tabindex:q.link===!0?0:-1,onClick:te=>{$e(F,q,te)},onKeypress(te){oa(te)!==!0&&(te.keyCode===13?$e(F,q,te,!0):te.keyCode===32&&je(F,q,te,!0))}},[ge("div",{class:"q-focus-helper",tabindex:-1,ref:te=>{C[q.key]=te}}),q.lazy==="loading"?ge(Sl,{class:"q-tree__spinner",color:b.value}):le===!0?ge(be,{class:"q-tree__arrow"+(q.expanded===!0?" q-tree__arrow--rotate":""),name:g.value,onClick(te){je(F,q,te)}}):null,q.hasTicking===!0&&q.noTick!==!0?ge(it,{class:"q-tree__tickbox",modelValue:q.indeterminate===!0?null:q.ticked,color:b.value,dark:i.value,dense:!0,keepColor:!0,disable:q.tickable!==!0,onKeydown:ll,"onUpdate:modelValue":te=>{_t(q,te)}}):null,ge("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(q.selected===!0?m.value:$.value)},[V?V(W):[N(F),ge("div",F[e.labelKey])]])]),le===!0?e.noTransition===!0?ge("div",{class:"q-tree__node-collapsible"+$.value,key:`${G}__q`},[oe,ge("div",{class:"q-tree__children"+(q.disabled===!0?" q-tree__node--disabled":"")},q.expanded?M:null)]):ge(xl,{duration:e.duration,onShow:x,onHide:B},()=>Re(ge("div",{class:"q-tree__node-collapsible"+$.value,key:`${G}__q`},[oe,ge("div",{class:"q-tree__children"+(q.disabled===!0?" q-tree__node--disabled":"")},M)]),[[Rt,q.expanded]])):oe])}function ce(F){const G=C[F];G&&G.focus()}function $e(F,G,q,V){V!==!0&&ce(G.key),_.value&&G.selectable?e.noSelectionUnset===!1?t("update:selected",G.key!==e.selected?G.key:null):G.key!==e.selected&&t("update:selected",G.key===void 0?null:G.key):je(F,G,q,V),typeof F.handler=="function"&&F.handler(F)}function je(F,G,q,V){q!==void 0&&ll(q),V!==!0&&ce(G.key),r(G.key,!G.expanded,F,G)}function _t(F,G){if(F.indeterminate===!0&&(G=F.indeterminateNextState),F.strictTicking)A([F.key],G);else if(F.leafTicking){const q=[],V=M=>{M.isParent?(G!==!0&&M.noTick!==!0&&M.tickable===!0&&q.push(M.key),M.leafTicking===!0&&M.children.forEach(V)):M.noTick!==!0&&M.tickable===!0&&(M.leafFilteredTicking!==!0||M.matchesFilter===!0)&&q.push(M.key)};V(F),A(q,G)}}return e.defaultExpandAll===!0&&k(),Object.assign(a,{getNodeByKey:T,getTickedNodes:z,getExpandedNodes:E,isExpanded:P,collapseAll:c,expandAll:k,setExpanded:r,isTicked:O,setTicked:A,meta:f}),()=>{const F=R(e.nodes);return ge("div",{class:w.value},F.length===0?e.filter?e.noResultsLabel||o.lang.tree.noResults:e.noNodesLabel||o.lang.tree.noNodes:F)}}});const An={class:"shadow-2 rounded-borders q-pa-sm qx-tree"},In={class:"qx-tree-title"},Dn={__name:"QxTree",props:{field:String,props:Object,options:Array,dicUrl:String,rowInfo:Object,dicQuery:Object,change:Function,showWay:Boolean,loading:Boolean,strategy:String,multiple:Boolean,dicMethods:String,filterMethod:Function,noSelectionUnset:Boolean,modelValue:[String,Array]},emits:["change","getNodes","update:modelValue","update:loading"],setup(e,{expose:l,emit:t}){const a=e;Vl(N=>({"56775e94":T.value.height}));const{height:o}=ze,i=j(""),n=j(null),s=j(a.strategy||"leaf"),v=h(()=>[{label:`${ee.t("CheckWayTip1")}`,value:"strict"},{label:`${ee.t("CheckWayTip2")}`,value:"leaf"},{label:`${ee.t("CheckWayTip3")}`,value:"leaf-filtered"}]),C=h(()=>({clearable:!0,dense:!0,placeholder:ee.t("FilterKeywords"),outlined:!0})),w=Ie({class:"qx-tree-group",dense:!0,inline:!0}),_=h(()=>{const{label:N="label",key:x="id",children:B="children"}=a.props||{};return{accordion:!0,childrenKey:B,labelKey:N,nodeKey:x,filter:i.value,noSelectionUnset:a.noSelectionUnset}}),g=Fe(),b=j([]),$=j(""),m=j([]),S=j([]),f=j(!1),T=j({height:"calc(100% - 40px)"}),z=()=>{ve(()=>{if(!n.value)return;const N=n.value.$el.querySelector(".qx-tree-title"),x=n.value.$el.querySelector(".qx-tree-group");if(!N&&!x){let H=40;g["tree-top"]&&(H+=43),a.multiple&&a.showWay&&(H+=31),T.value={height:`calc(100% - ${Math.floor(H)}px)`};return}let B=44;N&&(B+=o(N)),x&&(B+=o(x)),T.value={height:`calc(100% - ${Math.floor(B)}px)`}})},E=()=>{ve(()=>{if(!a.multiple&&n.value){const N=n.value.getNodeByKey($.value);if(N){m.value=(N.parentIds||"").split(",");return}}S.value.length&&!m.value.length&&(m.value=[S.value[0][_.value.nodeKey]])})},P=()=>{if(a.multiple){if(a.modelValue===b.value&&m.value.length)return;b.value=a.modelValue||[],E();return}a.modelValue===$.value&&m.value.length||($.value=a.modelValue||"",E())},c=()=>{if(a.dicUrl){f.value=!0;const N=Ve(a.dicQuery||{});k.value(a.dicUrl,N,x=>{S.value=x.rows||x,f.value=!1,t("update:loading",f.value),P()},()=>{f.value=!1,t("update:loading",f.value)});return}a.loading&&(f.value=a.loading),S.value=Ve(a.options||[]),P()};se(fe(a,"modelValue"),()=>P()),se([fe(a,"options"),fe(a,"dicQuery")],()=>{c()},{immediate:!0}),se(fe(a,"loading"),()=>{f.value=a.loading});const k=h(()=>a.dicMethods==="get"?Bt:Ge),r=fe(a,"rowInfo"),D=N=>{!r.value||(a.multiple?r.value[`SSS_${a.field}`]=N.map(x=>x[_.value.labelKey]).join(","):r.value[`SSS_${a.field}`]=N[_.value.labelKey])},O=N=>{if(s.value==="strict"){ve(()=>{const x=n.value.getTickedNodes();x&&D(x),t("update:modelValue",N),a.change?a.change(N,x):t("change",N,x)});return}ve(()=>{const x=Object.values(n.value.meta.value),B=[],H=[];for(const ce of x)(ce.ticked||ce.indeterminate)&&(B.push(n.value.getNodeByKey(ce.key)),H.push(ce.key));b.value=H,B&&D(B),t("update:modelValue",H),a.change?a.change(H,B):t("change",H,B)})},A=N=>{ve(()=>{const x=n.value.getNodeByKey(N);x&&D(x),t("update:modelValue",N),a.change?a.change(N,x):t("change",N,x)})},L=()=>{f.value=!1,t("update:loading",f.value)};return l({getNodes:()=>{f.value=!0,s.value="strict",ve(()=>{const N=n.value.getTickedNodes();t("getNodes",N,L)})},updateSelected:A,updateTicked:O}),(N,x)=>(p(),I("div",An,[re("div",In,[Z(N.$slots,"tree-top",{},void 0,!0),u(g)["tree-top"]&&!(e.multiple&&e.showWay)?(p(),U(Vt,{key:0,onResize:z})):Y("",!0)]),y(Ct,X({modelValue:i.value,"onUpdate:modelValue":x[0]||(x[0]=B=>i.value=B)},u(C)),null,16,["modelValue"]),e.multiple&&e.showWay?(p(),I(ne,{key:0},[y(At,X({modelValue:s.value,"onUpdate:modelValue":x[1]||(x[1]=B=>s.value=B),options:u(v)},w),null,16,["modelValue","options"]),y(Vt,{onResize:z})],64)):Y("",!0),e.multiple?(p(),U(u(ml),X({key:1,ref_key:"QxTree",ref:n,expanded:m.value,"onUpdate:expanded":x[2]||(x[2]=B=>m.value=B),ticked:b.value,"onUpdate:ticked":x[3]||(x[3]=B=>b.value=B),"filter-method":e.filterMethod,nodes:S.value,"tick-strategy":s.value},u(_),{"onUpdate:ticked":O}),we({_:2},[u(g).header?{name:"default-header",fn:d(B=>[Z(N.$slots,"header",{prop:B},void 0,!0)]),key:"0"}:void 0,u(g).body?{name:"default-body",fn:d(B=>[Z(N.$slots,"body",{prop:B},void 0,!0)]),key:"1"}:void 0]),1040,["expanded","ticked","filter-method","nodes","tick-strategy"])):(p(),U(u(ml),X({key:2,ref_key:"QxTree",ref:n,expanded:m.value,"onUpdate:expanded":x[4]||(x[4]=B=>m.value=B),selected:$.value,"onUpdate:selected":x[5]||(x[5]=B=>$.value=B),"filter-method":e.filterMethod,nodes:S.value,"selected-color":"primary"},u(_),{"onUpdate:selected":A}),we({_:2},[u(g).header?{name:"default-header",fn:d(B=>[Z(N.$slots,"header",{prop:B},void 0,!0)]),key:"0"}:void 0,u(g).body?{name:"default-body",fn:d(B=>[Z(N.$slots,"body",{prop:B},void 0,!0)]),key:"1"}:void 0]),1040,["expanded","selected","filter-method","nodes"])),y(Qe,{showing:f.value},{default:d(()=>[y(He,{color:"primary",size:"50px"})]),_:1},8,["showing"])]))}};var Pl=Fl(Dn,[["__scopeId","data-v-21b50de4"]]),Rn=Object.freeze(Object.defineProperty({__proto__:null,default:Pl},Symbol.toStringTag,{value:"Module"}));const Hn={__name:"QGroup",props:{type:{type:String,default:"radio"},options:Array,allBtn:Boolean,single:Boolean,change:Function,outlined:Boolean,readonly:Boolean,modelValue:[String,Number,Array]},emits:["change","update:modelValue"],setup(e,{emit:l}){const t=e,a=j(!1),o=j(void 0),i=h(()=>t.type==="radio"),n=h(()=>{var _;return!i.value&&!t.single&&t.allBtn&&((_=t.options)==null?void 0:_.length)}),s=(_=[],g=[])=>{!n.value||((g==null?void 0:g.length)===(_==null?void 0:_.length)?a.value=!0:(_==null?void 0:_.length)===0?a.value=!1:a.value=null)},v=()=>{if(s(t.modelValue,t.options),!(o.value===t.modelValue&&t.modelValue)){if(t.modelValue){o.value=t.modelValue;return}i.value?o.value="":o.value=[]}};se(fe(t,"modelValue"),()=>v(),{immediate:!0});const C=_=>{if(!_)return w([]);const g=(t.options||[]).map(b=>b.value);w(g)},w=_=>{t.single&&_.length>1&&(_=[_[1]]),t.change?t.change(_):l("change",_),s(_,t.options),l("update:modelValue",_)};return(_,g)=>(p(),U(Le,{modelValue:o.value,"onUpdate:modelValue":g[2]||(g[2]=b=>o.value=b),borderless:"","no-error-icon":""},we({control:d(({id:b})=>[u(n)?(p(),U(it,X({key:0,modelValue:a.value,"onUpdate:modelValue":g[0]||(g[0]=$=>a.value=$),label:_.$t("CheckAll"),class:"q-group-selected-all"},_.$attrs,{"onUpdate:modelValue":C}),null,16,["modelValue","label"])):Y("",!0),y(At,X({id:b,modelValue:o.value,"onUpdate:modelValue":g[1]||(g[1]=$=>o.value=$),disable:e.readonly,options:e.options,type:e.type},_.$attrs,{"onUpdate:modelValue":w}),null,16,["id","modelValue","disable","options","type"])]),_:2},[me(Object.keys(Fe()),b=>({name:b,fn:d(()=>[Z(_.$slots,b)])}))]),1032,["modelValue"]))}};var Wn=Object.freeze(Object.defineProperty({__proto__:null,default:Hn},Symbol.toStringTag,{value:"Module"}));const Kn={key:0,class:"placeholder"},Gn={key:1},Yn={class:"full-width row justify-around items-start"},Xn={class:"q-month--view q-date__months-content col self-stretch justify-around row items-center"},Jn={__name:"QMonth",props:{type:String,clearable:{type:Boolean,default:!0},multiple:Boolean,placeholder:String,option:[Array,Function],lazyRules:[Boolean,String],modelValue:[String,Date,Array,Number,Object]},emits:["change","update:modelValue"],setup(e,{emit:l}){const t=e,a=new Date().getFullYear(),o=_e("BgToColor"),i=j(null),n=j(void 0),s=j(!1),v=h(()=>s.value?"q-field--focused q-field--highlighted":""),C=Ie({class:"col-2",dense:!0,flat:!0}),w=j(0),_=L=>+L.replace("-",""),g=h(()=>{const L=+ot.formatDate(new Date,"YYYYMM");return R=>{const N=`${$.value}-${st.pad(R,2)}`,x=_(N);if(K(n.value))return x===L?"text-bold text-primary":void 0;if(ae(n.value)==="array")return n.value.includes(N)?`bg-primary text-bold text-${o("primary")}`:void 0;if(ae(n.value)==="object"){if(w.value){const B=_(n.value.from);return B===x?B<w.value?"text-primary q-month__start_hover_month q-month__hover_month q-month__start_month":B>w.value?"text-primary q-month__end_hover_month q-month__hover_month q-month__end_month":"text-primary q-month__hover_month":B<x?x<w.value?"text-primary no-border-radius q-month__hover_month":x===w.value?"text-primary q-month__end_hover_month q-month__hover_month q-month__end_month":void 0:x>w.value?"text-primary no-border-radius q-month__hover_month":x===w.value?"text-primary q-month__start_hover_month q-month__hover_month q-month__start_month":void 0}if(n.value.from&&n.value.to){const B=_(n.value.from),H=_(n.value.to);if(B===x&&H===x)return`bg-primary text-bold text-${o("primary")}`;if(B===x)return`bg-primary text-bold text-${o("primary")} q-month__start_month`;if(H===x)return`bg-primary text-bold text-${o("primary")} q-month__end_month`;if(x>B&&x<H)return"no-border-radius q-month__range"}}if(n.value===N)return`bg-primary text-bold text-${o("primary")}`;if(x===L)return"text-primary text-bold"}}),b=L=>+ot.formatDate(L,"YYYY"),$=j(a),m=h(()=>t.multiple?!1:(t.type||"").includes("range")),S=h(()=>K(n.value)?"":ae(n.value)==="array"?n.value.join(", "):ae(n.value)==="object"?`${n.value.from||"NA"}/${n.value.to||"NA"}`:n.value),f=()=>{$.value-=1},T=()=>{$.value+=1},z=()=>{if(K(n.value)){$.value=a;return}if(ae(n.value)==="array"){$.value=b(n.value[0]);return}if(ae(n.value)==="object"){$.value=b(n.value.from);return}$.value=b(n.value)},E=()=>{if(n.value!==t.modelValue){if(K(t.modelValue)){n.value=void 0;return}if(ae(t.modelValue)==="date"){n.value=ot.formatDate(new Date(t.modelValue),"YYYY-MM");return}n.value=t.modelValue}};se(fe(t,"modelValue"),()=>{E()},{immediate:!0});const P=()=>{m.value&&n.value&&!n.value.to&&(n.value=void 0),i.value&&i.value.blur()},c=()=>{l("update:modelValue",n.value||""),t.lazyRules!=="ondemand"&&i.value&&i.value.validate()},k=()=>{s.value=!s.value,s.value&&z()},r=L=>{!m.value||K(n.value)||ae(n.value)==="object"&&(n.value.to||(w.value=_(`${$.value}-${st.pad(L,2)}`)))},D=L=>{if(L=`${$.value}-${st.pad(L,2)}`,t.multiple){K(n.value)?n.value=[L]:n.value.push(L),l("change",n.value,L);return}if(m.value){if(K(n.value)||n.value.to){w.value=L,n.value={from:L};return}else L<n.value.from?(n.value.to=n.value.from,n.value.from=L):n.value.to=L,w.value=0,s.value=!1,l("change",n.value,L);return}n.value=L,s.value=!1,l("change",L)},O=()=>{if(!s.value||!i.value)return;const L=i.value.$el.getBoundingClientRect(),R=window.innerHeight;(L.top>R||L.bottom<0)&&(s.value=!1)},A=()=>{s.value=!1};return We(()=>{window.addEventListener("scroll",O,!0),window.addEventListener("resize",A,!1)}),kt(()=>{window.removeEventListener("scroll",O,!0),window.removeEventListener("resize",A,!1)}),(L,R)=>(p(),U(Le,X({ref_key:"QMonth",ref:i,modelValue:n.value,"onUpdate:modelValue":R[1]||(R[1]=N=>n.value=N),autogrow:!1,class:u(v),clearable:e.clearable,"lazy-rules":"ondemand"},L.$attrs,{onFocus:k}),{control:d(()=>[u(S)?L.$attrs.readonly?(p(),I("span",Gn,Q(u(S)),1)):(p(),U(qe,{key:2},{default:d(()=>[J(Q(u(S)),1)]),_:1})):(p(),I("span",Kn,Q(e.placeholder),1))]),append:d(()=>[y(be,{name:"calendar_month"})]),default:d(()=>[y(at,{modelValue:s.value,"onUpdate:modelValue":R[0]||(R[0]=N=>s.value=N),offset:[0,5],anchor:"bottom left",breakpoint:"0",class:"q-month column justify-around items-start","no-parent-event":"","no-refocus":"",self:"top left","transition-hide":"jump-up","transition-show":"jump-down",onHide:c,onBeforeHide:P},{default:d(()=>[re("div",Yn,[y(ie,{dense:"",flat:"",icon:"chevron_left",round:"",onClick:f}),y(ie,{dense:"",flat:""},{default:d(()=>[J(Q($.value),1)]),_:1}),y(ie,{dense:"",flat:"",icon:"chevron_right",round:"",onClick:T})]),re("div",Xn,[(p(),I(ne,null,me(12,N=>y(ie,X({key:N,class:u(g)(N)},C,{onClick:x=>D(N),onMouseenter:x=>r(N)}),{default:d(()=>[J(Q(L.$t(`M${N}`)),1)]),_:2},1040,["class","onClick","onMouseenter"])),64))])]),_:1},8,["modelValue"])]),_:1},16,["modelValue","class","clearable"]))}};var Zn=Object.freeze(Object.defineProperty({__proto__:null,default:Jn},Symbol.toStringTag,{value:"Module"}));const er={__name:"QNumber",props:{rules:Array,input:Function,min:[String,Number],max:[String,Number],decimals:[String,Number],lazyRules:[Boolean,String],modelValue:[String,Number]},emits:["update:modelValue"],setup(e,{emit:l}){const t=e,a=j(null),o=j(null),i=h(()=>t.lazyRules===!0?!1:t.lazyRules),n=h(()=>{if(t.decimals>=0)return[0,"0"].includes(t.decimals)?/^-?\d+$/:new RegExp(new RegExp("\\.\\d{0,"+t.decimals+"}/?$"))}),s=h(()=>{const w=t.rules||[];return K(t.min)||w.push(_=>K(_)||_>=t.min||ee.t("NotLess",[t.min])),K(t.max)||w.push(_=>K(_)||_<=t.max||ee.t("NotGreater",[t.max])),n.value&&w.push(_=>K(_)||/^-?\d+$/.test(_)||n.value.test(_)||ee.t("DecimalDigits",[t.decimals])),w}),v=()=>{t.modelValue!==o.value&&(o.value=t.modelValue,ve(()=>{a.value&&a.value.resetValidation()}))};se(fe(t,"modelValue"),()=>v(),{immediate:!0});const C=(w="")=>{t.input&&typeof t.input=="function"&&t.input(w),l("update:modelValue",w)};return(w,_)=>(p(),U(Ct,X({ref_key:"QNumber",ref:a,modelValue:o.value,"onUpdate:modelValue":_[0]||(_[0]=g=>o.value=g),modelModifiers:{number:!0},"lazy-rules":u(i),rules:u(s),step:"any",title:"",type:"number"},w.$attrs,{"onUpdate:modelValue":C}),we({_:2},[me(Object.keys(Fe()),g=>({name:g,fn:d(()=>[Z(w.$slots,g)])}))]),1040,["modelValue","lazy-rules","rules"]))}};var tr=Object.freeze(Object.defineProperty({__proto__:null,default:er},Symbol.toStringTag,{value:"Module"}));const lr={key:0,class:"placeholder"},ar={key:1},nr={__name:"QSelectTree",props:{type:String,props:Object,field:String,dicUrl:String,options:Array,rowInfo:Object,clearable:{type:Boolean,default:!0},change:Function,dicQuery:Object,multiple:Boolean,dicMethods:String,placeholder:String,lazyRules:[Boolean,String],modelValue:[String,Object,Number,Array]},emits:["change","update:modelValue"],setup(e,{emit:l}){const t=e,a=j(null),o=j(null),i=j(void 0),n=j(""),s=h(()=>{const{label:z="label"}=t.props||{};return z}),v=j(!1),C=h(()=>{const z=Ve(t);return z.noSelectionUnset=!0,delete z.type,delete z.change,delete z.placeholder,delete z.modelValue,z}),w=fe(t,"rowInfo"),_=()=>{w.value&&(w.value[`SSS_${t.field}`]=n.value)},g=()=>{if(i.value===t.modelValue){_();return}if(K(t.modelValue)){i.value=t.multiple?[]:"",S("",i.value);return}v.value||(v.value=!0),ve(()=>{o.value&&(t.multiple?(o.value.updateTicked(t.modelValue),v.value=!1):o.value.updateSelected(t.modelValue)),_()}),i.value=t.modelValue};se(fe(t,"modelValue"),()=>g(),{immediate:!0});const b=()=>{v.value=!v.value},$=()=>{a.value&&a.value.blur()},m=()=>{l("update:modelValue",i.value||""),t.lazyRules!=="ondemand"&&a.value&&a.value.validate()},S=(z,E)=>{K(E)?n.value="":t.multiple?n.value=E.map(P=>P[s.value]).join(", "):n.value=E[s.value],t.multiple||(v.value=!1),t.change?t.change(z,E):l("change",z,E)},f=()=>{if(!v.value||!a.value)return;const z=a.value.$el.getBoundingClientRect(),E=window.innerHeight;(z.top>E||z.bottom<0)&&(v.value=!1)},T=()=>{v.value=!1};return We(()=>{window.addEventListener("scroll",f,!0),window.addEventListener("resize",T,!1)}),kt(()=>{window.removeEventListener("scroll",f,!0),window.removeEventListener("resize",T,!1)}),(z,E)=>(p(),U(Le,X({ref_key:"selectTree",ref:a,modelValue:i.value,"onUpdate:modelValue":E[2]||(E[2]=P=>i.value=P),clearable:e.clearable,"lazy-rules":"ondemand"},z.$attrs,{onFocus:b}),we({control:d(()=>[n.value?z.$attrs.readonly?(p(),I("span",ar,Q(n.value),1)):(p(),U(qe,{key:2},{default:d(()=>[J(Q(n.value),1)]),_:1})):(p(),I("span",lr,Q(e.placeholder),1))]),default:d(()=>[y(at,{modelValue:v.value,"onUpdate:modelValue":E[1]||(E[1]=P=>v.value=P),offset:[0,5],anchor:"bottom left",breakpoint:"0",fit:"","no-parent-event":"","no-refocus":"",self:"top left","transition-hide":"jump-up","transition-show":"jump-down",onHide:m,onBeforeHide:$},{default:d(()=>[y(Pl,X({ref_key:"treeRef",ref:o,modelValue:i.value,"onUpdate:modelValue":E[0]||(E[0]=P=>i.value=P)},u(C),{onChange:S}),null,16,["modelValue"])]),_:1},8,["modelValue"])]),_:2},[me(Object.keys(Fe()),P=>({name:P,fn:d(()=>[Z(z.$slots,P)])})),z.$attrs.readonly?void 0:{name:"append",fn:d(()=>[y(be,{class:pe([v.value?"rotate-180":"","q-select__dropdown-icon"]),name:"arrow_drop_down"},null,8,["class"])]),key:"0"}]),1040,["modelValue","clearable"]))}};var rr=Object.freeze(Object.defineProperty({__proto__:null,default:nr},Symbol.toStringTag,{value:"Module"}));const or={key:0,class:"placeholder"},ir={key:1},sr={class:"full-height row items-center"},ur={class:"q-year--view q-date__years-content col self-stretch justify-around row items-center"},dr={class:"full-height row items-center"},cr={__name:"QYear",props:{type:String,clearable:{type:Boolean,default:!0},multiple:Boolean,placeholder:String,option:[Array,Function],lazyRules:[Boolean,String],modelValue:[String,Date,Array,Number,Object]},emits:["change","update:modelValue"],setup(e,{emit:l}){const t=e,a=new Date().getFullYear(),o=_e("BgToColor"),i=j(null),n=j(void 0),s=j(!1),v=h(()=>s.value?"q-field--focused q-field--highlighted":""),C=Ie({class:"col-3",dense:!0,flat:!0}),w=j(0),_=h(()=>A=>{const L=Number(b.value)+A;if(K(n.value))return L===a?"text-bold text-primary":void 0;if(ae(n.value)==="array")return n.value.includes(L)||n.value.includes(String(L))?`bg-primary text-bold text-${o("primary")}`:void 0;if(ae(n.value)==="object"){if(w.value){const R=Number(n.value.from);return w.value=+w.value,R===L?R<w.value?"text-primary q-year__start_hover_year q-year__hover_year q-year__start_year":R>w.value?"text-primary q-year__end_hover_year q-year__hover_year q-year__end_year":"text-primary q-year__hover_year":R<L?L<w.value?"text-primary no-border-radius q-year__hover_year":L===w.value?"text-primary q-year__end_hover_year q-year__hover_year q-year__end_year":void 0:L>w.value?"text-primary no-border-radius q-year__hover_year":L===w.value?"text-primary q-year__start_hover_year q-year__hover_year q-year__start_year":void 0}if(n.value.from&&n.value.to){const R=Number(n.value.from),N=Number(n.value.to);if(R===L&&N===L)return`bg-primary text-bold text-${o("primary")}`;if(R===L)return`bg-primary text-bold text-${o("primary")} q-year__start_year`;if(N===L)return`bg-primary text-bold text-${o("primary")} q-year__end_year`;if(L>R&&L<N)return"no-border-radius q-year__range"}}if(Number(n.value)===L)return`bg-primary text-bold text-${o("primary")}`;if(L===a)return"text-primary text-bold"}),g=A=>A-A%20-1,b=j(g(a)),$=h(()=>t.multiple?!1:(t.type||"").includes("range")),m=h(()=>{if(K(n.value))return"";if(ae(n.value)==="array"){if(!$.value)return n.value.join(", ");let A="";for(const L of n.value)A+=`${L.from||"NA"}/${L.to||"NA"}, `;return A.slice(0,-2)}return ae(n.value)==="object"?`${n.value.from||"NA"}/${n.value.to||"NA"}`:n.value}),S=()=>{b.value-=20},f=()=>{b.value+=20},T=()=>{if(K(n.value)){b.value=g(a);return}if(ae(n.value)==="array"){b.value=g(+n.value[0]);return}if(ae(n.value)==="object"){b.value=g(+n.value.from);return}b.value=g(+n.value)},z=()=>{if(n.value!==t.modelValue){if(K(t.modelValue)){n.value=void 0;return}if(ae(t.modelValue)==="date"){n.value=t.modelValue.getFullYear();return}n.value=t.modelValue}};se(fe(t,"modelValue"),()=>{z()},{immediate:!0});const E=()=>{$.value&&n.value&&!n.value.to&&(n.value=void 0),i.value&&i.value.blur()},P=()=>{l("update:modelValue",n.value||""),t.lazyRules!=="ondemand"&&i.value&&i.value.validate()},c=()=>{s.value=!s.value,s.value&&T()},k=A=>{!$.value||K(n.value)||ae(n.value)==="object"&&(n.value.to||(w.value=+A.target.textContent))},r=A=>{const L=Number(b.value)+A;if(t.multiple){K(n.value)?n.value=[L]:n.value.push(L),l("change",n.value,L);return}if($.value){if(K(n.value)||n.value.to){w.value=L,n.value={from:L};return}else L<n.value.from?(n.value.to=n.value.from,n.value.from=L):n.value.to=L,w.value=0,s.value=!1,l("change",n.value,L);return}n.value=L,s.value=!1,l("change",L)},D=()=>{if(!s.value||!i.value)return;const A=i.value.$el.getBoundingClientRect(),L=window.innerHeight;(A.top>L||A.bottom<0)&&(s.value=!1)},O=()=>{s.value=!1};return We(()=>{window.addEventListener("scroll",D,!0),window.addEventListener("resize",O,!1)}),kt(()=>{window.removeEventListener("scroll",D,!0),window.removeEventListener("resize",O,!1)}),(A,L)=>(p(),U(Le,X({ref_key:"QYear",ref:i,modelValue:n.value,"onUpdate:modelValue":L[1]||(L[1]=R=>n.value=R),autogrow:!1,class:u(v),clearable:e.clearable,"lazy-rules":"ondemand"},A.$attrs,{onFocus:c}),{control:d(()=>[u(m)?A.$attrs.readonly?(p(),I("span",ir,Q(u(m)),1)):(p(),U(qe,{key:2},{default:d(()=>[J(Q(u(m)),1)]),_:1})):(p(),I("span",or,Q(e.placeholder),1))]),append:d(()=>[y(be,{name:"edit_calendar"})]),default:d(()=>[y(at,{modelValue:s.value,"onUpdate:modelValue":L[0]||(L[0]=R=>s.value=R),offset:[0,5],anchor:"bottom left",breakpoint:"0",class:"q-year row no-wrap justify-around items-start","no-parent-event":"","no-refocus":"",self:"top left","transition-hide":"jump-up","transition-show":"jump-down",onHide:P,onBeforeHide:E},{default:d(()=>[re("div",sr,[y(ie,{dense:"",flat:"",icon:"chevron_left",round:"",onClick:S})]),re("div",ur,[(p(),I(ne,null,me(21,R=>y(ie,X({key:R,class:u(_)(R)},C,{onClick:N=>r(R),onMouseenter:k}),{default:d(()=>[J(Q(b.value+R),1)]),_:2},1040,["class","onClick"])),64))]),re("div",dr,[y(ie,{dense:"",flat:"",icon:"chevron_right",round:"",onClick:f})])]),_:1},8,["modelValue"])]),_:1},16,["modelValue","class","clearable"]))}};var fr=Object.freeze(Object.defineProperty({__proto__:null,default:cr},Symbol.toStringTag,{value:"Module"}));const mr={key:0,class:"placeholder"},pr={key:1},vr={__name:"QxDate",props:{type:String,clearable:{type:Boolean,default:!0},multiple:Boolean,placeholder:String,option:[Array,Function],lazyRules:[Boolean,String],modelValue:[String,Date,Array,Object]},emits:["change","update:modelValue"],setup(e,{emit:l}){const t=e,a=_e("BgToColor"),o=j(null),i=j(void 0),n=j(!1),s=h(()=>n.value?"q-field--focused q-field--highlighted":""),v=h(()=>(t.type||"").includes("time")?"YYYY-MM-DD HH:mm":"YYYY-MM-DD"),C=h(()=>(t.type||"").includes("range")),w=h(()=>{const{multiple:E,option:P}=t,c=!(E||C.value);return{"today-btn":!0,multiple:E,range:C.value,mask:v,noUnset:c,options:P}}),_=h(()=>{if(K(i.value))return"";if(ae(i.value)==="array"){if(!C.value)return i.value.join(", ");let E="";for(const P of i.value)E+=`${P.from||"NA"}/${P.to||"NA"}, `;return E.slice(0,-2)}return ae(i.value)==="object"?`${i.value.from||"NA"}/${i.value.to||"NA"}`:i.value}),g=()=>{if(i.value!==t.modelValue){if(K(t.modelValue)){i.value=void 0;return}i.value=t.modelValue}};se(fe(t,"modelValue"),()=>{g()},{immediate:!0});const b=()=>{o.value&&o.value.blur()},$=()=>{l("update:modelValue",i.value||""),t.lazyRules!=="ondemand"&&o.value&&o.value.validate()},m=()=>{n.value=!n.value},S=E=>{l("change",E),E&&(t.multiple||(n.value=!1))},f=()=>{n.value=!1,$()},T=()=>{if(!n.value||!o.value)return;const E=o.value.$el.getBoundingClientRect(),P=window.innerHeight;(E.top>P||E.bottom<0)&&(n.value=!1)},z=()=>{n.value=!1};return We(()=>{window.addEventListener("scroll",T,!0),window.addEventListener("resize",z,!1)}),kt(()=>{window.removeEventListener("scroll",T,!0),window.removeEventListener("resize",z,!1)}),(E,P)=>(p(),U(Le,X({ref_key:"QxDate",ref:o,modelValue:i.value,"onUpdate:modelValue":P[2]||(P[2]=c=>i.value=c),class:u(s),clearable:e.clearable,"lazy-rules":"ondemand"},E.$attrs,{onClear:f,onFocus:m}),{control:d(()=>[u(_)?E.$attrs.readonly?(p(),I("span",pr,Q(u(_)),1)):(p(),U(qe,{key:2},{default:d(()=>[J(Q(u(_)),1)]),_:1})):(p(),I("span",mr,Q(e.placeholder),1))]),append:d(()=>[y(be,{name:"event"})]),default:d(()=>[y(at,{modelValue:n.value,"onUpdate:modelValue":P[1]||(P[1]=c=>n.value=c),offset:[0,5],anchor:"bottom left",breakpoint:"0","no-parent-event":"","no-refocus":"",self:"top left","transition-hide":"jump-up","transition-show":"jump-down",onHide:$,onBeforeHide:b},{default:d(()=>[y(ia,X({modelValue:i.value,"onUpdate:modelValue":P[0]||(P[0]=c=>i.value=c),"text-color":u(a)("primary"),minimal:""},u(w),{"onUpdate:modelValue":S}),null,16,["modelValue","text-color"])]),_:1},8,["modelValue"])]),_:1},16,["modelValue","class","clearable"]))}};var hr=Object.freeze(Object.defineProperty({__proto__:null,default:vr},Symbol.toStringTag,{value:"Module"}));const gr={__name:"QxEditor",props:{input:Function,readonly:Boolean,clearable:Boolean,placeholder:String,modelValue:[String,Number]},emits:["input","update:modelValue"],setup(e,{emit:l}){const t=e,a=j(null),o=h(()=>({"toolbar-rounded":!0,"min-height":"5rem",placeholder:t.placeholder,readonly:t.readonly})),i=j(""),n=()=>{i.value!==t.modelValue&&(i.value=t.modelValue||"")};se(fe(t,"modelValue"),()=>n(),{immediate:!0});const s=()=>ve(()=>a.value.focus()),v=C=>{l("update:modelValue",C),t.input?t.input(C):l("input",C)};return(C,w)=>(p(),U(Le,X({modelValue:i.value,"onUpdate:modelValue":w[1]||(w[1]=_=>i.value=_),readonly:e.readonly,class:"qx-editor","no-error-icon":""},C.$attrs,{onFocus:s}),{control:d(()=>[y(sa,X({ref_key:"QxEditor",ref:a,modelValue:i.value,"onUpdate:modelValue":w[0]||(w[0]=_=>i.value=_)},u(o),{"onUpdate:modelValue":v}),null,16,["modelValue"])]),_:1},16,["modelValue","readonly"]))}};var yr=Object.freeze(Object.defineProperty({__proto__:null,default:gr},Symbol.toStringTag,{value:"Module"}));function Ul(e={}){return e.label?e.label.split(",").map(l=>l.trim()):["label"]}function Ql(e={}){return e.value||"value"}const pl="--";function Al(e,l){if(K(e))return"";if(ae(e)!=="object")return e;const t=Ul(l);let a="";for(const o of t)a+=`${pl}${e[o]}`;return a.replace(pl,"")}function lt(e,l){return K(e)?"":ae(e)!=="object"?e:e[Ql(l)]}function Lt(e,l){if(K(e))return!1;const t=ae(e);if(!["object","array"].includes(t))return!1;const a=l?l.disable||"isEnable":"disable";return t==="object"?[!0,"0"].includes(e[a]):!!e.filter(o=>[!0,"0"].includes(o[a]))}function Ft(e={},l,t){if(K(e))return"";const a=t||Al;return ae(e)==="array"?e.map(o=>a(o,l)).join(","):a(e,l)}function br(e={},l){return K(e)?"":ae(e)==="array"?e.map(t=>lt(t,l)).join(","):lt(e,l)}function kr(e=[],l,t){return K(t)?e:(t=t.toLowerCase(),e.filter(a=>String(Al(a,l)).toLowerCase().includes(t)))}function St(e,l,t){const a=new Map;return t&&(e=Ve(e)),e.reverse(),e=e.filter(o=>!a.has(lt(o,l))&&a.set(lt(o,l),1)),e.reverse()}const xr={__name:"QxSelect",props:{type:String,rules:Array,props:Object,field:String,page:Boolean,dicUrl:String,options:Array,clearable:{type:Boolean,default:!0},rowInfo:Object,loading:Boolean,change:Function,dicQuery:Object,keyWords:String,multiple:Boolean,isSearch:Boolean,dicMethod:String,placeholder:String,formatLabel:Function,modelValue:[String,Number,Array]},emits:["change","update:modelValue"],setup(e,{emit:l}){const t=e,a=j(0),o=j([]),i=j(null),n=j(!!t.dicUrl),s=j(!1),v=j(void 0),C=j(!1),w=j(t.options||[]),_=h(()=>br(v.value,t.props)),g=h(()=>t.dicMethod==="get"?Bt:Ge),b=h(()=>K(v.value)?t.placeholder:""),$=h(()=>N=>String(_.value||"").split(",").includes(lt(N,t.props))?!1:Lt(N,t.props)),m=h(()=>{const N=t.rules||[];return t.isSearch||N.push(x=>!Lt(x,t.props)||ee.t("SelectedTip")),N}),S=fe(t,"rowInfo"),f=N=>{S.value&&(S.value[`SSS_${t.field}`]=Ft(N,t.props,t.formatLabel))},T=N=>{let x=[];ae(N)==="number"?x=[N]:ae(N)==="array"?x=N:ae(N)==="string"&&(x=String(N).split(","));const B=(w.value||[]).filter(ce=>x.includes(lt(ce,t.props)));if(B.length===x.length){o.value=[],o.value=Object.freeze([...w.value]),v.value=t.multiple?B:B[0],f(v.value);return}if(!n.value)return;const H=Ve(t.dicQuery||{});H[Ql(t.props)]=x.join(","),H.pageSize=x.length,s.value=!0,g.value(t.dicUrl,H,ce=>{const $e=ce.rows||ce;w.value=St([...t.options||[],...$e],t.props),o.value=[],ve(()=>{o.value=Object.freeze([...w.value]),i.value&&i.value.refresh()}),v.value=t.multiple?St([...B,...$e],t.props):$e[0],f(v.value),s.value=!1},()=>{o.value=[],ve(()=>{o.value=Object.freeze([...w.value]),i.value&&i.value.refresh()}),v.value=t.multiple?B:B[0]||N,f(v.value),s.value=!1})},z=()=>{if(_.value===t.modelValue){f(v.value);return}if(K(t.modelValue)){v.value=void 0;return}T(t.modelValue)},E=()=>{n.value=!!t.dicUrl,w.value=t.options||[],z()};se(fe(t,"modelValue"),()=>z()),se(fe(t,"options"),()=>E()),se(fe(t,"dicQuery"),()=>E(),{immediate:!0});const P=N=>{const x=Ve(t.dicQuery||{});x.isEnable="1",x.pageSize="-1",s.value=!0,g.value(t.dicUrl,x,B=>{const H=B.rows||B;w.value=St([...t.options||[],...H],t.props),N(()=>{o.value=[],ve(()=>{o.value=Object.freeze([...w.value]),i.value&&i.value.refresh()})}),n.value=!1,s.value=!1},()=>{N(()=>{o.value=[],ve(()=>{o.value=Object.freeze([...w.value]),i.value&&i.value.refresh()})}),s.value=!1})},c=j(1),k=j(1e4),r=j(void 0),D=({ref:N,to:x})=>{if(k.value<51||!t.page||!n.value||s.value||k.value&&x>=k.value)return;s.value=!0;const B=Ve(t.dicQuery||{});if(r.value)if(c.value=1,t.keyWords)B[t.keyWords]=r.value,B.andKeywordLikeItem={keyword:r.value,propertys:[t.keyWords]};else{const H=Ul(t.props);B.andKeywordLikeItem={keyword:r.value,propertys:H}}B.pageNum=c.value,B.isEnable="1",B.pageSize=50,g.value(t.dicUrl,B,H=>{c.value++,a.value=0;const ce=H.rows||H;!r.value&&H.total&&(k.value=+H.total),w.value=St([...t.options||[],...ce],t.props),o.value=[],ve(()=>{o.value=Object.freeze([...w.value]),N.refresh()}),n.value=!1,s.value=!1},()=>{s.value=!1})},O=(N,x)=>{if(a.value=0,r.value=N,N&&t.page&&(n.value=!!t.dicUrl),n.value&&k.value>50){if(t.page){a.value=800,x();return}P(x)}else x(()=>{o.value=[],ve(()=>{o.value=Object.freeze([...kr(w.value,t.props,N)]),i.value&&i.value.refresh()})})},A=()=>C.value=!0,L=()=>R(),R=()=>{if(ve(()=>{i.value&&i.value.blur()}),!C.value)return;let N=t.multiple?v.value:[v.value];N=Ve(N),l("update:modelValue",_.value),t.change?t.change(_.value,N):l("change",_.value,N),C.value=!1};return(N,x)=>(p(),U(_l,X({ref_key:"QxSelect",ref:i,modelValue:v.value,"onUpdate:modelValue":x[0]||(x[0]=B=>v.value=B),clearable:e.clearable,"input-debounce":a.value,loading:e.loading||s.value,multiple:e.multiple,"option-disable":B=>u($)(B),options:o.value,placeholder:u(b),rules:u(m),behavior:"menu","transition-hide":"jump-up","transition-show":"jump-down","use-input":""},N.$attrs,{onClear:L,onFilter:O,onPopupHide:R,onVirtualScroll:D,"onUpdate:modelValue":A}),we({selected:d(()=>[y(Tt,null,{default:d(()=>[y(qe,null,{default:d(()=>[J(Q(u(Ft)(v.value,e.props,e.formatLabel)),1)]),_:1})]),_:1})]),option:d(({itemProps:B,opt:H})=>[y(ht,X({class:[u(Lt)(H,e.props)?"bg-red-4":"","row items-center"]},B),{default:d(()=>[y(Tt,null,{default:d(()=>[y(qe,null,{default:d(()=>[J(Q(u(Ft)(H,e.props,e.formatLabel)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040,["class"])]),"no-option":d(()=>[y(ht,null,{default:d(()=>[y(vt,{class:"text-italic text-center"},{default:d(()=>[J(Q(N.$t("NoData")),1)]),_:1})]),_:1})]),_:2},[me(Object.keys(Fe()),B=>({name:B,fn:d(()=>[Z(N.$slots,B)])}))]),1040,["modelValue","clearable","input-debounce","loading","multiple","option-disable","options","placeholder","rules"]))}};var _r=Object.freeze(Object.defineProperty({__proto__:null,default:xr},Symbol.toStringTag,{value:"Module"}));const Sr={key:0},wr={key:1,class:"placeholder"},$r={__name:"QxTime",props:{type:String,clearable:{type:Boolean,default:!0},placeholder:String,option:[Array,Function],lazyRules:[Boolean,String],modelValue:[String,Date]},emits:["change","update:modelValue"],setup(e,{emit:l}){const t=e,a=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],o=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],i=j(null),n=j(null),s=j(null),v=j(void 0),C=j(!1),w=h(()=>C.value?"q-field--focused q-field--highlighted":""),_=h(()=>(E,P)=>P==="H"?(v.value||"").startsWith(E):(v.value||"").endsWith(E)),g=(E="",P)=>{if(!E)return;if(P==="H"){const k=o.findIndex(r=>E.endsWith(r));s.value&&s.value.setScrollPosition("vertical",k*32-80,0);return}const c=a.findIndex(k=>E.startsWith(k));n.value&&n.value.setScrollPosition("vertical",c*32-80,0)},b=()=>{if(v.value!==t.modelValue){if(K(t.modelValue)){v.value=void 0;return}typeof t.modelValue=="object"?v.value=ot.formatDate(t.modelValue,"HH:mm"):v.value=t.modelValue}};se(fe(t,"modelValue"),()=>{b()},{immediate:!0});const $=()=>{i.value&&i.value.blur()},m=()=>{l("update:modelValue",v.value||""),t.lazyRules!=="ondemand"&&i.value&&i.value.validate()},S=()=>{C.value=!C.value;let E=setTimeout(()=>{g(v.value,"H"),g(v.value,"M"),clearTimeout(E),E=null},0)},f=(E,P)=>{if(P==="H"){if(!v.value){v.value=`${E}:00`,s.value&&s.value.setScrollPosition("vertical",0,200);return}v.value=v.value.replace(/^../,E),g(v.value,P);return}if(!v.value){v.value=`08:${E}`,n.value&&n.value.setScrollPosition("vertical",7*32,100);return}v.value=v.value.replace(/..$/,E),g(v.value,P)},T=()=>{if(!C.value||!i.value)return;const E=i.value.$el.getBoundingClientRect(),P=window.innerHeight;(E.top>P||E.bottom<0)&&(C.value=!1)},z=()=>{C.value=!1};return We(()=>{window.addEventListener("scroll",T,!0),window.addEventListener("resize",z,!1)}),kt(()=>{window.removeEventListener("scroll",T,!0),window.removeEventListener("resize",z,!1)}),(E,P)=>(p(),U(Le,X({ref_key:"QxTime",ref:i,modelValue:v.value,"onUpdate:modelValue":P[1]||(P[1]=c=>v.value=c),class:u(w),clearable:e.clearable,"lazy-rules":"ondemand"},E.$attrs,{onFocus:S}),{control:d(()=>[v.value?(p(),I("span",Sr,Q(v.value),1)):(p(),I("span",wr,Q(e.placeholder),1))]),append:d(()=>[y(be,{name:"access_time"})]),default:d(()=>[y(at,{modelValue:C.value,"onUpdate:modelValue":P[0]||(P[0]=c=>C.value=c),offset:[0,5],anchor:"bottom left",breakpoint:"0",class:"qx-time","no-parent-event":"","no-refocus":"",self:"top left","transition-hide":"jump-up","transition-show":"jump-down",onHide:m,onBeforeHide:$},{default:d(()=>[y(Mt,{ref_key:"hourArea",ref:n},{default:d(()=>[(p(),I(ne,null,me(a,c=>Re(y(ht,{key:c,active:u(_)(c,"H"),"active-class":"time-active-cls",clickable:"",dense:"",onClick:k=>f(c,"H")},{default:d(()=>[y(vt,null,{default:d(()=>[J(Q(c),1)]),_:2},1024)]),_:2},1032,["active","onClick"]),[[nl]])),64))]),_:1},512),y(bt,{vertical:""}),y(Mt,{ref_key:"minArea",ref:s},{default:d(()=>[(p(),I(ne,null,me(o,c=>Re(y(ht,{key:c,active:u(_)(c,"M"),"active-class":"time-active-cls",clickable:"",dense:"",onClick:k=>f(c,"M")},{default:d(()=>[y(vt,null,{default:d(()=>[J(Q(c),1)]),_:2},1024)]),_:2},1032,["active","onClick"]),[[nl]])),64))]),_:1},512)]),_:1},8,["modelValue"])]),_:1},16,["modelValue","class","clearable"]))}};var Cr=Object.freeze(Object.defineProperty({__proto__:null,default:$r},Symbol.toStringTag,{value:"Module"}));xa([_a,Sa,wa,$a,Ca,Va,Ta,ja,Na,qa,Ba,La,Fa]);const Vr={__name:"QCharts",props:{rows:Array,ySite:Array,xSite:String,xName:String,title:String,colors:Array,stack:Object,charts:Array,xRotate:Number,legend:{type:Boolean,default:!0},loading:Boolean,contentClass:String,labelMap:[Object,Array]},setup(e){const l=e,t=j(null),a=h(()=>K(l.labelMap)?K(l.xSite)?[]:[l.xSite]:ae(l.labelMap)==="object"?K(l.xSite)?Object.keys(l.labelMap):[l.xSite,...Object.keys(l.labelMap)]:K(l.xSite)?l.labelMap:[l.xSite,...l.labelMap]),o=h(()=>({type:"category",name:l.xName||"",nameLocation:"start",nameTextStyle:{align:"center",verticalAlign:"top",padding:[8,0,0,5]},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{interval:0,rotate:l.xRotate||0}})),i=h(()=>{if(K(l.ySite))return{};const S=[];for(const f of l.ySite)ae(f)==="object"?S.push({name:f.name,type:"value",axisLabel:{formatter:"{value}"+(f.format||"")},alignTicks:!0}):S.push({type:"value",axisLabel:{formatter:"{value}"+(f||"")},alignTicks:!0});return S}),n=h(()=>({barMaxWidth:30,barMinWidth:8,symbolSize:8,smooth:!0,itemStyle:{borderRadius:[5,5,0,0]}})),s=S=>{if(!K(l.stack)){for(const f in l.stack)if((l.stack[f]||[]).includes(S))return f}},v=h(()=>{if(K(l.charts)){if(K(a.value))return[];const f=[];for(const T of a.value)T!==a.value[0]&&f.push({type:"bar",name:T,...n.value,stack:s(T)});return f}const S=[];for(const f of l.charts)if(ae(f)==="object"){const T={...n.value,...f};f.color&&(T.itemStyle=T.itemStyle||{},T.itemStyle.color=new il(0,0,0,1,f.color)),f.emColor&&(T.emphasis={itemStyle:{color:new il(0,0,0,1,f.emColor)}}),S.push(T)}else S.push({type:f,...n.value});return S}),C=S=>K(l.labelMap)||ae(l.labelMap)==="array"?S:l.labelMap[S]||S,w=(S,f)=>K(S)?"-":ae(S)==="object"?K(S[f])?"-":S[f]:S,_=(S=[])=>{let f="",T="";for(const z of S)T||(T=z.axisValue),f+=`${z.marker} ${C(z.seriesName)}\uFF1A${w(z.value,z.seriesName)}<br />`;return`${T}<br />${f}`},g=h(()=>{const S={dataset:{dimensions:a.value,source:l.rows||[]},legend:{top:10,show:l.legend,data:null,formatter:T=>C(T)},grid:{top:50,left:50,right:20,bottom:30},title:{top:8,text:l.title},tooltip:{trigger:"axis",className:"echarts-tooltip-cls",formatter:T=>_(T)},xAxis:o.value,yAxis:i.value,series:v.value},f=(l.rows||[]).length;return f>30?S.dataZoom=[{show:!0,type:"slider",xAxisIndex:0,end:Math.floor(3e3/f),showDetail:!1,brushSelect:!1}]:S.dataZoom=[{show:!1}],l.colors&&(S.color=l.colors),S});let b=null;const $=()=>{b||(b=Oa(t.value)),b.setOption(g.value)},m=()=>{if(b)return b.resize();t.value&&$()};return(S,f)=>(p(),I(ne,null,[re("div",{ref_key:"QChart",ref:t,class:pe([e.contentClass,"q-charts shadow-3 rounded-borders"])},null,2),y(Qe,{showing:e.loading},{default:d(()=>[y(He,{color:"primary",size:"50px"})]),_:1},8,["showing"]),y(Vt,{debounce:"1000",onResize:m})],64))}};var Tr=Object.freeze(Object.defineProperty({__proto__:null,default:Vr},Symbol.toStringTag,{value:"Module"}));const{SSF:jr,utils:ft,writeFile:Nr}=XLSX,wt={style:"thin",color:{auto:1}},qr={top:wt,left:wt,bottom:wt,right:wt},Il={border:qr,font:{name:"fangsong",sz:16},alignment:{horizontal:"center",vertical:"center",wrapText:!0}},Br=(e,l)=>(l&&(e+=1462),(Date.parse(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3)),Lr=e=>{const l={},t={s:{c:1e7,r:1e7},e:{c:0,r:0}};for(let a=0;a!==e.length;++a)for(let o=0;o!==e[a].length;++o){t.s.r>a&&(t.s.r=a),t.s.c>o&&(t.s.c=o),t.e.r<a&&(t.e.r=a),t.e.c<o&&(t.e.c=o);const i={v:e[a][o]},n=ft.encode_cell({c:o,r:a});typeof i.v=="number"?i.t="n":typeof i.v=="boolean"?i.t="b":i.v instanceof Date?(i.t="n",i.z=jr._table[14],i.v=Br(i.v)):(i.t="s",i.v=`
${i.v||""}
`),i.s=Il,l[n]=i}return t.s.c<1e7&&(l["!ref"]=ft.encode_range(t)),l};function Fr({multiHeader:e=[],header:l=[],data:t=[],sheetName:a,fileName:o,merges:i=[],autoWidth:n=!1,bookType:s="xlsx",cols:v=[]}={}){o=o||"excel-list",t=[...t];for(let g=0;g<l.length;g++)t[g].unshift(l[g]);for(let g=e.length-1;g>-1;g--)t.unshift(e[g]);const C=[],w=a;for(let g=0;g<l.length;g++)C.push(Lr(t[g]));if(i.length>0&&(C["!merges"]||(C["!merges"]=[]),i.forEach(g=>{C["!merges"].push(ft.decode_range(g))})),n){const g=[];for(let $=0;$<l.length;$++)g.push(t[$].map(m=>m.map(S=>S?S.toString().charCodeAt(0)>255?{wch:5}:{wch:5}:{wch:10})));const b=[];for(let $=0;$<g.length;$++){b[$]=g[$][0];for(let m=1;m<g[$].length;m++)for(let S=0;S<g[$][m].length;S++)b[$][S].wch<g[$][m][S].wch&&(b[$][S].wch=g[$][m][S].wch)}for(let $=0;$<b.length;$++)C[$]["!cols"]=b[$]}const _=ft.book_new();for(let g=0;g<l.length;g++){if(!n){C[g]["!cols"]=[];const b=l[g];for(let $=0;$<b.length;$++)C[g]["!cols"].push({wch:v&&v[g]&&v[g][$]||20})}C[g]["!pageSetup"]={scale:"auto",orientation:"landscape"},C[g]["!printHeader"]=[1,2],ft.book_append_sheet(_,C[g],w[g])}Nr(_,`${o}.${s}`,{bookType:s,bookSST:!1,type:"binary",defaultCellStyle:Il})}const Or={__name:"QExport",props:{data:Array,columns:Array,loading:Boolean,fileName:String,exportUrl:String,isStream:Boolean,exportText:String,exportMethod:String,exportQuery:[Object,Function],isFormat:{type:Boolean,default:!0}},setup(e){const l=e,t=j(!1),a=h(()=>typeof l.exportQuery=="function"?l.exportQuery():l.exportQuery||{}),o=h(()=>l.exportMethod==="get"?Bt:Ge);se(()=>l.loading,()=>t.value=l.loading,{immediate:!0});const i=(w=[],_,g={})=>{const b=g.label||"label",$=g.value||"value";return(w.find(S=>S===_||S[$]===_)||{})[b]||_},n=w=>{const _=[],g=[],b={},$={},m={},S=[];for(const T of l.columns||[]){if(T.export===!1||T.hide&&!T.export)continue;_.push(T.label);const z=T.exportWidth||100;z<40?S.push(8):S.push(Math.ceil(z/5));const E=T.exportField||T.field;g.push(E),T.props&&(m[E]=T.props),T.format&&($[E]=T.format),T.options&&["array","function"].includes(ae(T.options))&&(b[E]=T.options)}let f;return l.isFormat?f=w.map(T=>g.map(z=>{if($[z])return $[z](T[z],T);if(b[z]){if(["array","object"].includes(typeof b[z]))return i(b[z],T[z],m[z]);if(["function"].includes(typeof b[z]))return i(b[z](T),T[z],m[z])}return T[z]})):f=w.map(T=>g.map(z=>T[z])),{cols:[S],header:[_],data:[f],sheetName:["sheet1"],fileName:l.fileName}},s=(w=[])=>{if(w.length){Fr(n(w)),t.value=!1;return}$t.create({type:"warning",icon:"warning",message:ee.t("NoExportData")}),t.value=!1},v=()=>{typeof a.value!="string"&&(t.value=!0,o.value(l.exportUrl,{...a.value,pageSize:"-1"},w=>s(w.rows||w),()=>{t.value=!1}))},C=()=>{if(l.isStream){t.value=!0,yt({dicUrl:l.exportUrl,dicQuery:l.exportQuery||{},fileName:l.fileName,dicMethod:l.exportMethod||"post",done:()=>{t.value=!1}});return}l.exportUrl?v():s(l.data)};return(w,_)=>{const g=Ke("qx-btn");return p(),U(g,{label:e.exportText||w.$t("ExportList"),loading:t.value,icon:"cloud_download","text-color":"primary",onClick:C},null,8,["label","loading"])}}};var Mr=Object.freeze(Object.defineProperty({__proto__:null,default:Or},Symbol.toStringTag,{value:"Module"}));const zr={class:"row no-wrap items-center q-pa-sm q-gutter-xs"},Er={class:"col"},Pr={class:"q-uploader__title"},Ur={class:"q-uploader__subtitle"},Qr={__name:"QImport",props:{downUrl:String,loading:Boolean,fileName:String,downText:String,importUrl:String,readonly:Boolean,downQuery:Object,errorParam:Array,downMethod:String,importText:String,importQuery:Object,importAfter:Function},emits:["import-after"],setup(e,{emit:l}){const t=e,a=j([]),o=j(null),i=j(null),n=j(!1),s=j(!1),v=h(()=>`${Pe}${t.importUrl}`),C=h(()=>[{name:"Authorization",value:xt().token},{name:"lang",value:ee.locale}]),w=h(()=>({batch:!0,label:ee.t("ImportTips"),accept:".xls, .xlsx",readonly:t.readonly,"max-files":1,color:"grey-6",class:"q-ma-sm",headers:C.value})),_=h(()=>({menu:!0,menuWidth:100,rightBtn:!1,column:[{label:`${ee.t("Remarks")}`,field:"remark",rowsNum:3},{label:`${ee.t("Create")}${ee.t("Time")}`,field:"createdTime",width:90}]}));se(()=>t.loading,()=>s.value=t.loading,{immediate:!0}),se(()=>n.value,k=>{!k&&i.value&&i.value.reset()});const g=()=>({url:v.value,method:"POST",fieldName:"file",formFields:Object.keys(t.importQuery||{}).map(k=>({name:k,value:t.importQuery[k]}))}),b=()=>{if(pt.stop(),i.value&&i.value.reset(),!t.errorParam||!t.errorParam.length){o.value&&o.value(!1);return}Ge("/oss/api/ossUploadRecord/list",{pageNum:1,pageSize:3,serviceName:t.errorParam[0],bussinessModule:t.errorParam[1]},k=>{a.value=k.rows,o.value&&o.value(!1)},()=>{o.value&&o.value(!1)})},$=()=>{s.value=!0},m=()=>{s.value=!1},S=k=>{if(k.xhr.response){const r=JSON.parse(k.xhr.response);Te[r.status](r)}else{$t.create({type:"negative",message:ee.t("ImportError")}),o.value&&o.value(!1);return}b()},f=k=>{if(k.xhr.response){const r=JSON.parse(k.xhr.response);if(r.code!=="0"){Te[r.code](r),b();return}pt.stop(),i.value&&i.value.reset(),t.importAfter&&t.importAfter(r.data),l("import-after",r.data)}o.value&&o.value()},T=()=>{n.value=!0},z=()=>{s.value=!0,yt({dicUrl:t.downUrl,dicQuery:t.downQuery||{},fileName:t.fileName,dicMethod:t.downMethod||"post",done:()=>{s.value=!1}})},E=k=>{s.value=!0,yt({dicUrl:"/oss/api/ossUploadRecord/download",dicQuery:{path:k.resultPath},fileName:k.name,dicMethod:"get",done:()=>{s.value=!1}})},P=k=>{i.value||(i.value=k)},c=k=>{if(i.value){if(!i.value.files.length){$t.create({type:"negative",message:ee.t("ImportNonFiles")}),k(!1);return}i.value.upload()}o.value=k};return(k,r)=>{const D=Ke("qx-btn");return p(),I(ne,null,[y(D,{label:e.importText||k.$t("Import"),loading:s.value,icon:"cloud_upload","text-color":"primary",onClick:T},null,8,["label","loading"]),y(D,{label:e.downText||k.$t("TemplateDownload"),loading:s.value,class:"q-ml-sm","text-color":"primary",onClick:z},null,8,["label","loading"]),y(Xt,{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=O=>n.value=O),header:`${k.$t("Import")}`,menuBtn:!e.readonly,width:"600",onConfirm:c},{default:d(()=>[y(Jt,{data:a.value,option:u(_)},{top:d(()=>[y(It,X({factory:g},u(w),{onFailed:S,onFinish:m,onStart:$,onUploaded:f}),{header:d(O=>[J(Q(P(O))+" ",1),re("div",zr,[O.queuedFiles.length>0?(p(),U(ie,{key:0,dense:"",flat:"",icon:"clear_all",round:"",onClick:O.removeQueuedFiles},null,8,["onClick"])):Y("",!0),O.uploadedFiles.length>0?(p(),U(ie,{key:1,dense:"",flat:"",icon:"done_all",round:"",onClick:O.removeUploadedFiles},null,8,["onClick"])):Y("",!0),O.isUploading?(p(),U(Sl,{key:2,class:"q-uploader__spinner"})):Y("",!0),re("div",Er,[re("div",Pr,Q(u(w).label),1),re("div",Ur,Q(O.uploadSizeLabel)+" / "+Q(O.uploadProgressLabel),1)]),O.canAddFiles?(p(),U(ie,{key:3,dense:"",flat:"",icon:"add_box",round:"",type:"a",onClick:O.pickFiles},{default:d(()=>[y(Dt)]),_:2},1032,["onClick"])):Y("",!0)])]),_:1},16)]),menu:d(({row:O})=>[y(ie,{loading:s.value,color:"primary",dense:"",flat:"",icon:"cloud_download",round:"",onClick:A=>E(O)},null,8,["loading","onClick"])]),_:1},8,["data","option"])]),_:1},8,["modelValue","header","menuBtn"])],64)}}};var Ar=Object.freeze(Object.defineProperty({__proto__:null,default:Qr},Symbol.toStringTag,{value:"Module"}));const Ir={class:"q-preview"},Dr={class:"q-preview-tip glossy text-white flex justify-between items-center"},Rr=["src"],Hr={class:"q-preview-tip glossy text-white flex justify-center items-center q-gutter-x-xl"},Zt={__name:"QPreview",props:{name:String,index:Number,imgList:Array,keyWords:String,modalValue:Boolean},setup(e){const l=e,t=j("false"),a=j(l.index||0),o=h(()=>{if(!(!l.imgList||!l.imgList[a.value]))return l.imgList[a.value][l.name||"name"]});Ht(()=>{a.value=l.index||0});const i=h(()=>g=>{if(typeof g=="string")return g;if(l.keyWords){const b=(l.keyWords||"").split(".");let $;for(const m of b)$?$=$[m]:$=g[m];return $}return g.src}),n=j(1),s=j(0),v=h(()=>({transform:`scale(${n.value}) rotate(${s.value}deg)`})),C=g=>{n.value*=g},w=g=>s.value+=g,_=()=>{n.value=1,s.value=0};return(g,b)=>(p(),U(bl,{modelValue:t.value,"onUpdate:modelValue":b[5]||(b[5]=$=>t.value=$),"full-height":"","full-width":""},{default:d(()=>[re("div",Ir,[re("div",Dr,[J(Q(u(o)||`${g.$t("Picture")}${g.$t("Preview")}`)+" ",1),Re((p(),U(ie,{class:"q-btn-close",dense:"",flat:"",icon:"close"},{default:d(()=>[y(Ce,xe(Ae(g.$tooltipAttr)),{default:d(()=>[J(Q(g.$t("Close")),1)]),_:1},16)]),_:1})),[[ua]])]),y(da,{modelValue:a.value,"onUpdate:modelValue":b[0]||(b[0]=$=>a.value=$),animated:"",infinite:"",swipeable:"",thumbnails:"","transition-next":"slide-left","transition-prev":"slide-right"},{default:d(()=>[(p(!0),I(ne,null,me(e.imgList||[],($,m)=>(p(),U(ca,{key:m,"img-src":u(i)($),name:m},{default:d(()=>[re("img",{src:u(i)($),style:ke(u(v)),alt:"",class:"rounded-borders"},null,12,Rr)]),_:2},1032,["img-src","name"]))),128))]),_:1},8,["modelValue"]),re("div",Hr,[y(ie,{dense:"",flat:"",icon:"loupe",onClick:b[1]||(b[1]=$=>C(1.1))}),y(ie,{dense:"",flat:"",icon:"remove_circle_outline",onClick:b[2]||(b[2]=$=>C(.9))}),y(ie,{dense:"",flat:"",icon:"restore",onClick:_}),y(ie,{dense:"",flat:"",icon:"rotate_left",onClick:b[3]||(b[3]=$=>w(-45))}),y(ie,{dense:"",flat:"",icon:"rotate_right",onClick:b[4]||(b[4]=$=>w(45))})])])]),_:1},8,["modelValue"]))}};var Wr=Object.freeze(Object.defineProperty({__proto__:null,default:Zt},Symbol.toStringTag,{value:"Module"}));const Kr={class:"row items-start q-gutter-sm"},Gr=["onClick"],Yr=["onClick"],Xr={key:1,class:"absolute-full"},Jr=["onClick"],Zr={__name:"QPicture",props:{lazyRules:[Boolean,String],modelValue:String,clearable:Boolean,required:Boolean,outlined:Boolean,readonly:Boolean,loading:Boolean,sName:String,bName:String,limitNum:{type:Number,default:5},isLtXM:{type:Number,default:50}},emits:["update:modelValue"],setup(e,{emit:l}){const t=e,{humanStorageSize:a}=st,o=j(null),i=j(!1),n=j(!1),s=h(()=>[{name:"Authorization",value:xt().token},{name:"lang",value:ee.locale}]),v=h(()=>`${Pe}oss/api/ossUploadRecord/batchUpload`),C=h(()=>t.isLtXM*1024*1024),w=O=>{const A=o.value.files.map(L=>L.__key);return O.filter(L=>!A.includes(`${L.name}${L.size}`))},_=h(()=>({flat:!0,batch:!0,multiple:!0,label:void 0,accept:"image/*","auto-upload":!0,color:"transparent",readonly:t.readonly,"max-files":t.limitNum,headers:s.value,"max-file-size":C.value})),g=j(""),b=O=>{const A={id:O.id,lastModified:+O.endTime,name:O.originalFileName,size:O.sizeBytes,__progressLabel:"100.00%",__status:"uploaded",resultPath:O.resultPath,__sizeLabel:O.sizeBytes<1024?`${O.sizeBytes}.0B`:a(O.sizeBytes)};A.__key=`${O.originalFileName}${O.sizeBytes}`,O.imageFlag==="1"&&(A.__img={src:O.imageSignedUrl}),o.value&&o.value.files.push(A)},$=()=>{if(t.modelValue===g.value)return;if(!t.modelValue){g.value="",o.value&&o.value.reset();return}i.value=!0;const O={pageSize:"-1",imageSignedUrlFlag:!0,idList:(t.modelValue||"").split(",")};Ge("/oss/api/ossUploadRecord/list",O,A=>{g.value=t.modelValue;for(const L of A.rows)b(L);i.value=!1},()=>{i.value=!1})};se(fe(t,"modelValue"),()=>{$()},{immediate:!0});const m=()=>({url:v.value,method:"POST",fieldName:"files",formFields:[{name:"serviceName",value:t.sName||"fmbb"},{name:"bussinessModule",value:t.bName||"fmbb"},{name:"publicRead",value:!1}]}),S=O=>{o.value=O},f=()=>{i.value=!0},T=()=>{i.value=!1},z=j(0),E=O=>{if(O.xhr.response){const A=JSON.parse(O.xhr.response);Te[A.status](A)}},P=()=>{const O=o.value.files;g.value=O.map(A=>A.id).join(","),l("update:modelValue",g.value||"")},c=O=>{if(O.xhr.response){const A=JSON.parse(O.xhr.response);if(A.code!=="0"){for(const R of O.files)o.value.updateFileStatus(R,"failed",R.size),o.value.removeFile(R);Te[A.code](A);return}const L=O.files.length;for(let R=0;R<L;R++)O.files[R].id=A.data[R].id;P()}},k=(O,A)=>{A>-1&&O.__status!=="uploading"&&(z.value=A,n.value=!0)},r=O=>{i.value=!0,yt({dicUrl:"/oss/api/ossUploadRecord/download",dicQuery:{path:O.resultPath},fileName:O.name,dicMethod:"get",done:()=>{i.value=!1}})},D=(O,A)=>{Yt({msg:`${ee.t("DelTips")}`},()=>{o.value.files.splice(A,1),o.value.removeFile(O),P()},()=>{})};return(O,A)=>(p(),I(ne,null,[y(Le,X({hint:e.readonly?"":O.$t("PictureTips",[e.isLtXM]),label:void 0,loading:e.loading,readonly:e.readonly,borderless:"",class:"q-picture","lazy-rules":"ondemand","no-error-icon":""},O.$attrs),{control:d(()=>[y(It,X({factory:m,filter:w},u(_),{onFailed:E,onFinish:T,onStart:f,onUploaded:c}),{header:d(L=>[J(Q(S(L))+" ",1),re("div",Kr,[(p(!0),I(ne,null,me(L.files,(R,N)=>(p(),I("div",{key:R.__key,class:"q-pictrue-card no-border rounded-borders shadow-1 overflow-hidden flex-center cursor-pointer",onClick:Se(x=>k(R,N),["stop"])},[R.__img?(p(),U(wl,{key:0,src:R.__img.src,loading:"lazy"},{default:d(()=>[R.__status==="failed"?(p(),I("div",{key:0,class:"uploader-error rounded-borders absolute-top-right",onClick:Se(k,["stop"])},[y(be,{class:"cursor-pointer",color:"negative",name:"cloud_upload",onClick:L.upload},{default:d(()=>[y(Ce,xe(Ae(O.$tooltipAttr)),{default:d(()=>[J(Q(`${O.$t("UploadFailed")}`),1)]),_:1},16)]),_:2},1032,["onClick"])],8,Yr)):Y("",!0),R.__status==="uploading"?(p(),I("div",Xr,[y(Qe,{showing:!0},{default:d(()=>[y($l,{value:R.__progress*100,color:"primary",size:"60px"},null,8,["value"])]),_:2},1024)])):(p(),I("div",{key:2,class:"q-pictrue-tip absolute-bottom flex justify-around items-center",onClick:Se(k,["stop"])},[y(be,{class:"cursor-pointer",name:"cloud_download",onClick:x=>r(R)},null,8,["onClick"]),y(be,{class:"cursor-pointer",name:"delete",onClick:x=>D(R,N)},null,8,["onClick"])],8,Jr))]),_:2},1032,["src"])):Y("",!0)],8,Gr))),128)),e.readonly?Y("",!0):(p(),U(ie,{key:0,icon:"add",padding:"lg",style:{opacity:".8"},"text-color":"primary",onClick:L.pickFiles},{default:d(()=>[y(Dt),y(Ce,xe(Ae(O.$tooltipAttr)),{default:d(()=>[J(Q(`${O.$t("PleaseSelect")}${O.$t("Picture")}`),1)]),_:1},16)]),_:2},1032,["onClick"]))])]),list:d(()=>[]),_:1},16)]),_:1},16,["hint","loading","readonly"]),y(Qe,{showing:i.value},{default:d(()=>[y(He,{color:"primary",size:"30px"})]),_:1},8,["showing"]),y(Zt,{modelValue:n.value,"onUpdate:modelValue":A[0]||(A[0]=L=>n.value=L),imgList:(o.value||{}).files,index:z.value,keyWords:"__img.src"},null,8,["modelValue","imgList","index"])],64))}};var eo=Object.freeze(Object.defineProperty({__proto__:null,default:Zr},Symbol.toStringTag,{value:"Module"}));const to={__name:"QxBtn",props:{color:String,textColor:String},setup(e){const l=e,t=h(()=>l.textColor||l.color||"primary");return(a,o)=>(p(),U(ie,X({"text-color":u(t),"no-wrap":""},a.$attrs),{default:d(()=>[Z(a.$slots,"default")]),_:3},16,["text-color"]))}};var lo=Object.freeze(Object.defineProperty({__proto__:null,default:to},Symbol.toStringTag,{value:"Module"}));const ao={__name:"QxFile",props:{lazyRules:[Boolean,String],modelValue:String,clearable:Boolean,required:Boolean,outlined:Boolean,readonly:Boolean,loading:Boolean,sName:String,bName:String,limitNum:{type:Number,default:5},isLtXM:{type:Number,default:50}},emits:["update:modelValue"],setup(e,{emit:l}){const t=e,{humanStorageSize:a}=st,o=_e("BgToColor"),i=j(null),n=j(!1),s=j(!1),v=j(!1),C=h(()=>i.value?i.value.files.filter(x=>x.__img):[]),w=h(()=>({menu:!0,menuWidth:100,rightBtn:!1,column:[{label:`${ee.t("File")}${ee.t("Name")}`,field:"name",rowsNum:3},{label:`${ee.t("File")}${ee.t("Size")}`,field:"__sizeLabel",width:90},{label:`${ee.t("File")}${ee.t("Status")}`,field:"__status",slot:!0,width:90,align:"center"},{label:`${ee.t("Thumbnail")}`,field:"picture",slot:!0,width:90,align:"center"}]})),_=h(()=>[{name:"Authorization",value:xt().token},{name:"lang",value:ee.locale}]),g=h(()=>`${Pe}oss/api/ossUploadRecord/batchUpload`),b=h(()=>t.isLtXM*1024*1024),$=x=>{const B=i.value.files.map(H=>H.__key);return x.filter(H=>!B.includes(`${H.name}${H.size}`))},m=h(()=>({flat:!0,batch:!0,multiple:!0,label:void 0,"auto-upload":!0,color:"transparent",readonly:t.readonly,"max-files":t.limitNum,headers:_.value,"max-file-size":b.value})),S=j(""),f=x=>{const B={id:x.id,lastModified:+x.endTime,name:x.originalFileName,size:x.sizeBytes,__progressLabel:"100.00%",__status:"uploaded",resultPath:x.resultPath,__sizeLabel:x.sizeBytes<1024?`${x.sizeBytes}.0B`:a(x.sizeBytes)};B.__key=`${x.originalFileName}${x.sizeBytes}`,x.imageFlag==="1"&&(B.__img={src:x.imageSignedUrl}),i.value&&i.value.files.push(B)},T=()=>{if(t.modelValue===S.value)return;if(!t.modelValue){S.value="",i.value&&i.value.reset();return}n.value=!0;const x={pageSize:"-1",imageSignedUrlFlag:!0,idList:(t.modelValue||"").split(",")};Ge("/oss/api/ossUploadRecord/list",x,B=>{S.value=t.modelValue;for(const H of B.rows)f(H);n.value=!1},()=>{n.value=!1})};se(fe(t,"modelValue"),()=>T(),{immediate:!0});const z=()=>({url:g.value,method:"POST",fieldName:"files",formFields:[{name:"serviceName",value:t.sName||"fmbb"},{name:"bussinessModule",value:t.bName||"fmbb"},{name:"publicRead",value:!1}]}),E=x=>{i.value=x},P=()=>{n.value=!0},c=()=>{n.value=!1},k=j(0),r=x=>{if(x.xhr.response){const B=JSON.parse(x.xhr.response);Te[B.status](B)}},D=()=>{const x=i.value.files;S.value=x.map(B=>B.id).join(","),l("update:modelValue",S.value||"")},O=x=>{if(x.xhr.response){const B=JSON.parse(x.xhr.response);if(B.code!=="0"){for(const ce of x.files)i.value.updateFileStatus(ce,"failed",ce.size),i.value.removeFile(ce);Te[B.code](B);return}const H=x.files.length;for(let ce=0;ce<H;ce++)x.files[ce].id=B.data[ce].id;D()}},A=()=>{s.value=!0},L=(x,B)=>{B>-1&&x.__status!=="uploading"&&(k.value=B,v.value=!0)},R=x=>{n.value=!0,yt({dicUrl:"/oss/api/ossUploadRecord/download",dicQuery:{path:x.resultPath},fileName:x.name,dicMethod:"get",done:()=>{n.value=!1}})},N=(x,B)=>{Yt({msg:`${ee.t("DelTips")}`},()=>{i.value.files.splice(B,1),i.value.removeFile(x),D()},()=>{})};return(x,B)=>(p(),I(ne,null,[y(Le,X({hint:e.readonly?"":x.$t("FileTips",[e.isLtXM]),label:void 0,loading:e.loading,readonly:e.readonly,borderless:"",class:"q-picture","lazy-rules":"ondemand","no-error-icon":""},x.$attrs),{control:d(()=>[y(It,X({factory:z,filter:$},u(m),{onFailed:r,onFinish:c,onStart:P,onUploaded:O}),{header:d(H=>[J(Q(E(H))+" ",1),y(fa,{outline:""},{default:d(()=>[y(ie,{disable:!H.files.length,label:x.$t("ToView"),loading:n.value,icon:"preview",outline:"","text-color":"primary",onClick:A},{default:d(()=>[H.files.length?(p(),U(rt,{key:0,class:pe(`text-${u(o)("info")}`),color:"info",floating:""},{default:d(()=>[J(Q(H.files.length),1)]),_:2},1032,["class"])):Y("",!0)]),_:2},1032,["disable","label","loading"]),y(bt,{vertical:""}),y(ie,{disable:e.readonly,label:x.$t("Upload"),loading:n.value,icon:"cloud_upload",outline:"","text-color":"primary",onClick:H.pickFiles},{default:d(()=>[y(Dt)]),_:2},1032,["disable","label","loading","onClick"])]),_:2},1024)]),list:d(()=>[]),_:1},16)]),_:1},16,["hint","loading","readonly"]),y(Xt,{modelValue:s.value,"onUpdate:modelValue":B[0]||(B[0]=H=>s.value=H),header:`${x.$t("File")}${x.$t("List")}`,menuBtn:!1,width:"50%"},{default:d(()=>[y(Jt,{data:(i.value||{}).files,option:u(w)},{__status:d(({row:H})=>[y($l,{value:(H.__progress||1)*100,color:"primary","font-size":"12px","show-value":"",size:"60px"},{default:d(()=>[J(Q(H.__progressLabel),1)]),_:2},1032,["value"])]),picture:d(({row:H,index:ce})=>[H.__img?(p(),U(wl,{key:0,src:H.__img.src,class:"rounded-borders cursor-pointer",loading:"lazy",sizes:"60px",onClick:Se($e=>L(H,ce),["stop"])},null,8,["src","onClick"])):Y("",!0)]),menu:d(({row:H,index:ce})=>[y(ie,{loading:n.value,color:"primary",dense:"",flat:"",icon:"cloud_download",round:"",onClick:$e=>R(H)},null,8,["loading","onClick"]),e.readonly?Y("",!0):(p(),U(ie,{key:0,loading:n.value,color:"negative",dense:"",flat:"",icon:"delete",round:"",onClick:$e=>N(H,ce)},null,8,["loading","onClick"]))]),_:1},8,["data","option"])]),_:1},8,["modelValue","header"]),y(Zt,{modelValue:v.value,"onUpdate:modelValue":B[1]||(B[1]=H=>v.value=H),imgList:u(C),index:k.value,keyWords:"__img.src"},null,8,["modelValue","imgList","index"])],64))}};var no=Object.freeze(Object.defineProperty({__proto__:null,default:ao},Symbol.toStringTag,{value:"Module"})),vl={name:"QCodePrism",props:{code:String,lang:String},setup(e){const l=_e("isDark"),t=h(()=>`language-${e.lang} ${l.value?"doc-code-dark":"doc-code"}`);return()=>ge("pre",{class:t.value},[ge("code",{class:t.value,innerHTML:ol.exports.highlight(e.code,ol.exports.languages[e.lang],e.lang)})])}};const hl={"./Global/QFrame.vue":tn,"./Global/QJsonTree.vue":an,"./Global/QModal.vue":rn,"./Global/QxForm.vue":vn,"./Global/QxPage.vue":yn,"./Global/QxTable.vue":Un,"./Global/QxTree.vue":Rn,"./Global/Form/QGroup.vue":Wn,"./Global/Form/QMonth.vue":Zn,"./Global/Form/QNumber.vue":tr,"./Global/Form/QSelectTree.vue":rr,"./Global/Form/QYear.vue":fr,"./Global/Form/QxDate.vue":hr,"./Global/Form/QxEditor.vue":yr,"./Global/Form/QxSelect.vue":_r,"./Global/Form/QxTime.vue":Cr,"./Global/Tools/QCharts.vue":Tr,"./Global/Tools/QExport.vue":Mr,"./Global/Tools/QImport.vue":Ar,"./Global/Tools/QPicture.vue":eo,"./Global/Tools/QPreview.vue":Wr,"./Global/Tools/QxBtn.vue":lo,"./Global/Tools/QxFile.vue":no,"./Global/Tools/QxTooltip.vue":$n},ho=e=>{Object.keys(hl).forEach(l=>{const t=hl[l],a=t.default||t,o=a.name||a.__name;e.component(o,a)}),e.component(vl.name,vl)};export{Fl as _,ut as a,mo as b,fo as c,Me as g,ee as i,ho as l,po as r,De as s,xt as u,vo as z};
